2025-12-06 23:31:36 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:36 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:36 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:36 - tests.workflows.booking - INFO - TEST: greeting_node_detects_booking_intent
2025-12-06 23:31:36 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:36 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Greeting (greeting)
2025-12-06 23:31:36 - tests.workflows.booking - INFO - [GREETING] Processing: {'message': "Hi, I'd like to book a haircut"}
2025-12-06 23:31:36 - llm.transformer.azure_gpt4 - DEBUG - Transformed max_tokens to max_completion_tokens [value=200]
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [GREETING] LLM intent parsed in 1539.2ms: intent=book, services=['haircut'], service_name=haircut, guest_name=None
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [GREETING] Detected intent: book, services: ['haircut'], service_name=haircut, guest_name=None, duration=1540.6ms
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [OK] Detected intent: book
2025-12-06 23:31:37 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:37 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:37 - tests.workflows.booking - INFO - TEST: booking_validation_identifies_missing_fields
2025-12-06 23:31:37 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:37 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Booking Validation (validation)
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [BOOKING_VALIDATION] Checking required fields
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [BOOKING_VALIDATION] Valid=False, Missing=['service_name', 'guest_name']
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [OK] Missing fields: ['service_name', 'guest_name']
2025-12-06 23:31:37 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:37 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:37 - tests.workflows.booking - INFO - TEST: booking_validation_passes_with_all_fields
2025-12-06 23:31:37 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:37 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Booking Validation (validation)
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [BOOKING_VALIDATION] Checking required fields
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [BOOKING_VALIDATION] Valid=True, Missing=[]
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [OK] Validation passed with all fields
2025-12-06 23:31:37 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:37 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:37 - tests.workflows.booking - INFO - TEST: service_lookup_finds_known_service
2025-12-06 23:31:37 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:37 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Service Lookup (lookup)
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [SERVICE_LOOKUP] Looking up service
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [SERVICE_LOOKUP] Service=haircut, Found=True
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [OK] Found service: haircut, Price: $30
2025-12-06 23:31:37 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:37 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:37 - tests.workflows.booking - INFO - TEST: simple_booking_workflow
2025-12-06 23:31:37 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:37 - core.workflows.nodes.node_factory - INFO - Registered node type: llm (LLM Node)
2025-12-06 23:31:37 - core.workflows.nodes.node_factory - INFO - Registered node type: agent (Agent Node)
2025-12-06 23:31:37 - core.workflows.nodes.node_factory - INFO - Registered node type: tool (Tool Node)
2025-12-06 23:31:37 - core.workflows.nodes.node_factory - INFO - Registered node type: subworkflow (Subworkflow Node)
2025-12-06 23:31:37 - core.workflows.nodes.node_factory - INFO - Registered node type: decision (Decision Node)
2025-12-06 23:31:37 - core.workflows.nodes.node_factory - INFO - Registered node type: switch (Switch Node)
2025-12-06 23:31:37 - core.workflows.nodes.node_factory - INFO - Registered node type: parallel (Parallel Node)
2025-12-06 23:31:37 - core.workflows.nodes.node_factory - INFO - Registered node type: loop (Loop Node)
2025-12-06 23:31:37 - core.workflows.nodes.node_factory - INFO - Registered node type: transform (Transform Node)
2025-12-06 23:31:37 - core.workflows.nodes.node_factory - INFO - Registered node type: webhook (Webhook Node)
2025-12-06 23:31:37 - core.workflows.nodes.node_factory - INFO - Registered node type: human_input (Human Input Node)
2025-12-06 23:31:37 - core.workflows.nodes.node_factory - INFO - Registered node type: delay (Delay Node)
2025-12-06 23:31:37 - core.workflows.nodes.node_factory - INFO - Registered node type: start (Start Node)
2025-12-06 23:31:37 - core.workflows.nodes.node_factory - INFO - Registered node type: end (End Node)
2025-12-06 23:31:37 - core.workflows.nodes.node_factory - DEBUG - Registered 14 built-in node types
2025-12-06 23:31:37 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:37 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Greeting (greeting)
2025-12-06 23:31:37 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Validation (validation)
2025-12-06 23:31:37 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Service Lookup (lookup)
2025-12-06 23:31:37 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Confirmation (confirmation)
2025-12-06 23:31:37 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:37 - core.workflows.edges.edge_factory - INFO - Registered edge type: default
2025-12-06 23:31:37 - core.workflows.edges.edge_factory - INFO - Registered edge type: conditional
2025-12-06 23:31:37 - core.workflows.edges.edge_factory - INFO - Registered edge type: fallback
2025-12-06 23:31:37 - core.workflows.edges.edge_factory - INFO - Registered edge type: error
2025-12-06 23:31:37 - core.workflows.edges.edge_factory - INFO - Registered edge type: timeout
2025-12-06 23:31:37 - core.workflows.edges.edge_factory - INFO - Registered edge type: loop_back
2025-12-06 23:31:37 - core.workflows.edges.edge_factory - INFO - Registered edge type: parallel_join
2025-12-06 23:31:37 - core.workflows.edges.edge_factory - DEBUG - Registered 7 built-in edge types
2025-12-06 23:31:37 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_greeting (start -> greeting)
2025-12-06 23:31:37 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_greeting_validation (greeting -> validation)
2025-12-06 23:31:37 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_validation_lookup (validation -> lookup)
2025-12-06 23:31:37 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_lookup_confirmation (lookup -> confirmation)
2025-12-06 23:31:37 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_confirmation_end (confirmation -> end)
2025-12-06 23:31:37 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Simple Booking Workflow (6 nodes, 5 edges)
2025-12-06 23:31:37 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Greeting (greeting)
2025-12-06 23:31:37 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Validation (validation)
2025-12-06 23:31:37 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Service Lookup (lookup)
2025-12-06 23:31:37 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Confirmation (confirmation)
2025-12-06 23:31:37 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Simple Booking Workflow (id=1c5d1e44-bd1a-4cbd-a2e1-23a3c7ea4fba, execution=0ac354ea-c7cf-4893-b7f1-d5cf7a1b53a5)
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [WORKFLOW] Started: Simple Booking Workflow
2025-12-06 23:31:37 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:37 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:37 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:37 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:37 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Greeting (iteration=2)
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [GREETING] Processing: {'message': "Hi, my name is John and I'd like to book a haircut"}
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [GREETING] Detected intent: book, services: ['haircut'], service_name=haircut, guest_name=John, duration=0.0ms
2025-12-06 23:31:37 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Greeting (duration=1.00ms)
2025-12-06 23:31:37 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Validation (iteration=3)
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [BOOKING_VALIDATION] Checking required fields
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [BOOKING_VALIDATION] Valid=True, Missing=[]
2025-12-06 23:31:37 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Validation (duration=0.00ms)
2025-12-06 23:31:37 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Service Lookup (iteration=4)
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [SERVICE_LOOKUP] Looking up service
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [SERVICE_LOOKUP] Service=haircut, Found=True
2025-12-06 23:31:37 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Service Lookup (duration=0.00ms)
2025-12-06 23:31:37 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Confirmation (iteration=5)
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [BOOKING_CONFIRMATION] Creating booking
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [BOOKING_CONFIRMATION] Booking created: BK-20251206233137
2025-12-06 23:31:37 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Confirmation (duration=0.00ms)
2025-12-06 23:31:37 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=6)
2025-12-06 23:31:37 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:37 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:37 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=1.00ms)
2025-12-06 23:31:37 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [WORKFLOW] Completed in 2.00ms
2025-12-06 23:31:37 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Simple Booking Workflow (duration=2.00ms)
2025-12-06 23:31:37 - tests.workflows.booking - INFO - [OK] Booking confirmed: BK-20251206233137
2025-12-06 23:31:38 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:38 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:38 - tests.workflows.booking - INFO - TEST: booking_with_intent_routing
2025-12-06 23:31:38 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:38 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:38 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Greeting (greeting)
2025-12-06 23:31:38 - core.workflows.nodes.base_node - DEBUG - Initialized switch node: Intent Router (router)
2025-12-06 23:31:38 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Booking Flow (booking_flow)
2025-12-06 23:31:38 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Cancel Flow (cancel_flow)
2025-12-06 23:31:38 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Clarification (clarification)
2025-12-06 23:31:38 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:38 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_greeting (start -> greeting)
2025-12-06 23:31:38 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_greeting_router (greeting -> router)
2025-12-06 23:31:38 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_router_booking_flow (router -> booking_flow)
2025-12-06 23:31:38 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_router_cancel_flow (router -> cancel_flow)
2025-12-06 23:31:38 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_router_clarification (router -> clarification)
2025-12-06 23:31:38 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_booking_flow_end (booking_flow -> end)
2025-12-06 23:31:38 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_cancel_flow_end (cancel_flow -> end)
2025-12-06 23:31:38 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_clarification_end (clarification -> end)
2025-12-06 23:31:38 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Booking with Intent Routing (7 nodes, 8 edges)
2025-12-06 23:31:38 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Greeting (greeting)
2025-12-06 23:31:38 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Booking Flow (booking_flow)
2025-12-06 23:31:38 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Clarification (clarification)
2025-12-06 23:31:38 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Booking with Intent Routing (id=3cd91ba6-563b-4c0c-b90b-8101e654a69e, execution=9af75f72-6275-4eae-8763-0f691eadba64)
2025-12-06 23:31:38 - tests.workflows.booking - INFO - [WORKFLOW] Started: Booking with Intent Routing
2025-12-06 23:31:38 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:38 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:38 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:38 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:38 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Greeting (iteration=2)
2025-12-06 23:31:38 - tests.workflows.booking - INFO - [GREETING] Processing: {'message': 'I want to book a haircut'}
2025-12-06 23:31:38 - llm.transformer.azure_gpt4 - DEBUG - Transformed max_tokens to max_completion_tokens [value=200]
2025-12-06 23:31:39 - tests.workflows.booking - INFO - [GREETING] LLM intent parsed in 1273.2ms: intent=book, services=['haircut'], service_name=haircut, guest_name=None
2025-12-06 23:31:39 - tests.workflows.booking - INFO - [GREETING] Detected intent: book, services: ['haircut'], service_name=haircut, guest_name=None, duration=1273.7ms
2025-12-06 23:31:39 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Greeting (duration=1275.15ms)
2025-12-06 23:31:39 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Intent Router (iteration=3)
2025-12-06 23:31:39 - core.workflows.nodes.switch_node - INFO - Executing switch node: Intent Router
2025-12-06 23:31:39 - core.workflows.nodes.switch_node - DEBUG - Switch value: book
2025-12-06 23:31:39 - core.workflows.nodes.switch_node - INFO - Switch node Intent Router: matched 'Book' -> booking_flow
2025-12-06 23:31:39 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Intent Router (duration=1.00ms)
2025-12-06 23:31:39 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_router_booking_flow: All conditions passed
2025-12-06 23:31:39 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Booking Flow (iteration=4)
2025-12-06 23:31:39 - tests.workflows.booking - INFO - [BOOKING_CONFIRMATION] Creating booking
2025-12-06 23:31:39 - tests.workflows.booking - INFO - [BOOKING_CONFIRMATION] Booking created: BK-20251206233139
2025-12-06 23:31:39 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Booking Flow (duration=1.00ms)
2025-12-06 23:31:39 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=5)
2025-12-06 23:31:39 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:39 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:39 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:39 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:39 - tests.workflows.booking - INFO - [WORKFLOW] Completed in 1277.15ms
2025-12-06 23:31:39 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Booking with Intent Routing (duration=1277.15ms)
2025-12-06 23:31:39 - tests.workflows.booking - INFO - [OK] Routed to booking_flow based on intent
2025-12-06 23:31:39 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:39 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:39 - core.workflows.nodes.base_node - DEBUG - Initialized llm node: LLM Confirmation (llm_confirmation)
2025-12-06 23:31:39 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:39 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_llm_confirmation (start -> llm_confirmation)
2025-12-06 23:31:39 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_llm_confirmation_end (llm_confirmation -> end)
2025-12-06 23:31:39 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: LLM Booking Confirmation (3 nodes, 2 edges)
2025-12-06 23:31:39 - core.workflows.nodes.base_node - DEBUG - Initialized llm node: LLM Confirmation (llm_confirmation)
2025-12-06 23:31:39 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: LLM Booking Confirmation (id=2ab7b2a3-a6e3-4d77-bff2-b05b3a5af4c7, execution=1b8c7b9f-30ac-41c8-985b-ef0e0c9be7ec)
2025-12-06 23:31:39 - tests.workflows.booking - INFO - [WORKFLOW] Started: LLM Booking Confirmation
2025-12-06 23:31:39 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:39 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:39 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:39 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=1.74ms)
2025-12-06 23:31:39 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: LLM Confirmation (iteration=2)
2025-12-06 23:31:39 - core.workflows.nodes.llm_node - INFO - Executing LLM node: LLM Confirmation
2025-12-06 23:31:39 - llm.transformer.azure_gpt4 - DEBUG - Transformed max_tokens to max_completion_tokens [value=120]
2025-12-06 23:31:39 - llm.transformer.azure_gpt4 - WARNING - Temperature parameter removed (not supported) [requested_temperature=0.7]
2025-12-06 23:31:40 - core.workflows.nodes.llm_node - DEBUG - LLM node LLM Confirmation completed successfully
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: LLM Confirmation (duration=1161.11ms)
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=3)
2025-12-06 23:31:40 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:40 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=1.44ms)
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [WORKFLOW] Completed in 1165.04ms
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: LLM Booking Confirmation (duration=1165.04ms)
2025-12-06 23:31:40 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:40 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:40 - tests.workflows.booking - INFO - TEST: transition_spec_identifies_missing_required
2025-12-06 23:31:40 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [OK] Missing vars: ['service_name', 'guest_name']
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [OK] Prompt: What service would you like to book? May I have your name for the booking?
2025-12-06 23:31:40 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:40 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:40 - tests.workflows.booking - INFO - TEST: transition_spec_passes_with_all_required
2025-12-06 23:31:40 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [OK] No missing required variables
2025-12-06 23:31:40 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:40 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:40 - tests.workflows.booking - INFO - TEST: io_spec_validation
2025-12-06 23:31:40 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [OK] Required fields: ['message', 'service_name']
2025-12-06 23:31:40 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:40 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:40 - tests.workflows.booking - INFO - TEST: node_with_io_spec
2025-12-06 23:31:40 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [OK] Node IOSpec working correctly
2025-12-06 23:31:40 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:40 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:40 - tests.workflows.booking - INFO - TEST: create_workflow_tool
2025-12-06 23:31:40 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Lookup (lookup)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:40 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_lookup (start -> lookup)
2025-12-06 23:31:40 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_lookup_end (lookup -> end)
2025-12-06 23:31:40 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Booking Service (3 nodes, 2 edges)
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [OK] Created workflow tool: book_service
2025-12-06 23:31:40 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:40 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:40 - tests.workflows.booking - INFO - TEST: workflow_tool_execution
2025-12-06 23:31:40 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Lookup (lookup)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:40 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_lookup (start -> lookup)
2025-12-06 23:31:40 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_lookup_end (lookup -> end)
2025-12-06 23:31:40 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Service Lookup (3 nodes, 2 edges)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Lookup (lookup)
2025-12-06 23:31:40 - core.workflows.tools.workflow_tool - INFO - Executing workflow tool: lookup_service
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Service Lookup (id=9de49862-7312-4252-8b84-b7101d992b17, execution=8b7d9ef3-82b7-4213-aa09-63f428e3ce1b)
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:40 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:40 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=1.00ms)
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Lookup (iteration=2)
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [SERVICE_LOOKUP] Looking up service
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [SERVICE_LOOKUP] Service=haircut, Found=True
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Lookup (duration=0.00ms)
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=3)
2025-12-06 23:31:40 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:40 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=1.00ms)
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Service Lookup (duration=2.00ms)
2025-12-06 23:31:40 - core.workflows.tools.workflow_tool - INFO - Workflow tool lookup_service completed successfully
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [OK] Tool execution result: {'found': True, 'service_name': 'haircut', 'available': True, 'price': 30, 'duration': 30, 'message': 'Haircut is available. Price: $30, Duration: 30 minutes.', 'success': True}
2025-12-06 23:31:40 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:40 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:40 - tests.workflows.booking - INFO - TEST: complete_haircut_booking_flow
2025-12-06 23:31:40 - tests.workflows.booking - INFO - ============================================================
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Greeting Node (greeting)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized decision node: Check Intent (intent_check)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Validate Booking (booking_validation)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Service Lookup (service_lookup)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Confirm Booking (confirm_booking)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Request Missing Info (request_info)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:40 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_greeting (start -> greeting)
2025-12-06 23:31:40 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_greeting_intent_check (greeting -> intent_check)
2025-12-06 23:31:40 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_check_booking_validation (intent_check -> booking_validation)
2025-12-06 23:31:40 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_check_request_info (intent_check -> request_info)
2025-12-06 23:31:40 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_booking_validation_service_lookup (booking_validation -> service_lookup)
2025-12-06 23:31:40 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_booking_validation_request_info (booking_validation -> request_info)
2025-12-06 23:31:40 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_service_lookup_confirm_booking (service_lookup -> confirm_booking)
2025-12-06 23:31:40 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_confirm_booking_end (confirm_booking -> end)
2025-12-06 23:31:40 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_request_info_end (request_info -> end)
2025-12-06 23:31:40 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Haircut Booking Flow (8 nodes, 9 edges)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Greeting Node (greeting)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Validate Booking (booking_validation)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Service Lookup (service_lookup)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Confirm Booking (confirm_booking)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Request Missing Info (request_info)
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Haircut Booking Flow (id=bfbc14cf-1925-4e33-aa36-01e737163c5a, execution=49ee0d31-3534-409c-a2b0-e42d880f9ef9)
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [WORKFLOW] Started: Haircut Booking Flow
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:40 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:40 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Greeting Node (iteration=2)
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [GREETING] Processing: {'message': "Hi, my name is Sarah and I'd like to book a haircut please"}
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [GREETING] Detected intent: book, services: ['haircut'], service_name=haircut, guest_name=Sarah, duration=0.0ms
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Greeting Node (duration=0.00ms)
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Check Intent (iteration=3)
2025-12-06 23:31:40 - core.workflows.nodes.decision_node - INFO - Executing decision node: Check Intent
2025-12-06 23:31:40 - core.workflows.nodes.decision_node - DEBUG - Decision node Check Intent: No match, using default -> default
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Check Intent (duration=1.00ms)
2025-12-06 23:31:40 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_intent_check_booking_validation: All conditions passed
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Validate Booking (iteration=4)
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [BOOKING_VALIDATION] Checking required fields
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [BOOKING_VALIDATION] Valid=True, Missing=[]
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Validate Booking (duration=0.00ms)
2025-12-06 23:31:40 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_booking_validation_service_lookup: All conditions passed
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Service Lookup (iteration=5)
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [SERVICE_LOOKUP] Looking up service
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [SERVICE_LOOKUP] Service=haircut, Found=True
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Service Lookup (duration=0.00ms)
2025-12-06 23:31:40 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_service_lookup_confirm_booking: All conditions passed
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Confirm Booking (iteration=6)
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [BOOKING_CONFIRMATION] Creating booking
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [BOOKING_CONFIRMATION] Booking created: BK-20251206233140
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Confirm Booking (duration=1.00ms)
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=7)
2025-12-06 23:31:40 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:40 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [WORKFLOW] Completed in 3.00ms
2025-12-06 23:31:40 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Haircut Booking Flow (duration=3.00ms)
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [OK] Booking confirmed: BK-20251206233140
2025-12-06 23:31:40 - tests.workflows.booking - INFO - [OK] Execution path: ['start', 'greeting', 'intent_check', 'booking_validation', 'service_lookup', 'confirm_booking', 'end']
2025-12-06 23:31:40 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:40 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:40 - tests.workflows.conversational - INFO - | TEST: simple_workflow_creation                                     |
2025-12-06 23:31:40 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized start node: Begin (start)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized end node: Finish (end)
2025-12-06 23:31:40 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_end (start -> end)
2025-12-06 23:31:40 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Simple Test Workflow (2 nodes, 1 edges)
2025-12-06 23:31:40 - tests.workflows.conversational - INFO - [OK] Created workflow: Simple Test Workflow
2025-12-06 23:31:40 - tests.workflows.conversational - INFO - [OK] Nodes: 2, Edges: 1
2025-12-06 23:31:40 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:40 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:40 - tests.workflows.conversational - INFO - | TEST: workflow_with_decision_node                                  |
2025-12-06 23:31:40 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized decision node: check (check)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: High Value Handler (high)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Low Value Handler (low)
2025-12-06 23:31:40 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:40 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_check (start -> check)
2025-12-06 23:31:40 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_check_high (check -> high)
2025-12-06 23:31:40 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_check_low (check -> low)
2025-12-06 23:31:40 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_high_end (high -> end)
2025-12-06 23:31:40 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_low_end (low -> end)
2025-12-06 23:31:40 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Decision Workflow (5 nodes, 5 edges)
2025-12-06 23:31:40 - tests.workflows.conversational - INFO - [OK] Decision workflow created with 5 nodes
2025-12-06 23:31:41 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | TEST: greeter_node                                                 |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Test Greeter (greeter_test)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [GREETER:INIT] Initializing GreeterNode: Test Greeter
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [GREETER:INIT] First message: 'Welcome to our service!...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [GREETER] Executing node: Test Greeter                             |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER] is_new_conversation: True, user_name: there
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER] New conversation - using first message
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER:DONE] Greeting: 'Welcome to our service!...', Input: 'Hello...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [OK] Greeter result: Welcome to our service!
2025-12-06 23:31:41 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | TEST: intent_classifier_node                                       |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized decision node: Test Intent Classifier (intent_test)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [INTENT:INIT] Initializing IntentClassifierNode: Test Intent Classifier
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [INTENT:INIT] Configured 6 intent categories
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [INTENT] Executing node: Test Intent Classifier                    |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] User input: 'I want to book an appointment...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] MATCH! keyword='book' -> intent='booking'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT:DONE] Intent: 'booking' (confidence: 0.80)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [TEST] 'I want to book an appointment...' -> booking
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [INTENT] Executing node: Test Intent Classifier                    |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] User input: 'What are your hours?...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] MATCH! keyword='hours' -> intent='faq'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT:DONE] Intent: 'faq' (confidence: 0.80)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [TEST] 'What are your hours?...' -> faq
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [INTENT] Executing node: Test Intent Classifier                    |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] User input: 'I have a problem with my account...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] MATCH! keyword='problem' -> intent='support'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT:DONE] Intent: 'support' (confidence: 0.80)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [TEST] 'I have a problem with my accou...' -> support
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [INTENT] Executing node: Test Intent Classifier                    |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] User input: 'goodbye...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] MATCH! keyword='bye' -> intent='goodbye'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT:DONE] Intent: 'goodbye' (confidence: 0.80)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [TEST] 'goodbye...' -> goodbye
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [INTENT] Executing node: Test Intent Classifier                    |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] User input: 'connect me to a human...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] MATCH! keyword='human' -> intent='transfer'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT:DONE] Intent: 'transfer' (confidence: 0.80)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [TEST] 'connect me to a human...' -> transfer
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [OK] All 5 intent tests passed
2025-12-06 23:31:41 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | TEST: booking_agent_node                                           |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Test Booking Agent (booking_test)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [BOOKING:INIT] Initializing BookingAgentNode: Test Booking Agent
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [BOOKING:INIT] Configured 2 available slots
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [BOOKING] Executing node: Test Booking Agent                       |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [BOOKING:DONE] Offered 2 slots
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [OK] Booking response: I'd be happy to help you book an appointment. Here...
2025-12-06 23:31:41 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | TEST: faq_agent_node                                               |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Test FAQ Agent (faq_test)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [FAQ:INIT] Initializing FAQAgentNode: Test FAQ Agent
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [FAQ:INIT] Knowledge base topics: ['hours', 'location', 'contact', 'pricing']
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [FAQ] Executing node: Test FAQ Agent                               |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FAQ] MATCH! topic='hours'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FAQ:DONE] Topic: hours, Action: faq_answered
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [OK] FAQ matched topic: hours
2025-12-06 23:31:41 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | TEST: support_agent_escalation                                     |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Test Support Agent (support_test)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [SUPPORT:INIT] Initializing SupportAgentNode: Test Support Agent
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [SUPPORT:INIT] Escalation keywords: ['urgent', 'critical', 'immediately', 'emergency']
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [SUPPORT] Executing node: Test Support Agent                       |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [SUPPORT:DONE] Ticket: TKT-20251206233141, Action: escalated, Escalated: True
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [OK] Urgent issue escalated, ticket: TKT-20251206233141
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [WORKFLOW_OBS:INIT] ConversationObserver initialized
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [NODE_OBS:INIT] NodeTrackingObserver initialized
2025-12-06 23:31:41 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | TEST: booking_intent_workflow                                      |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Greeter (greeter)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized decision node: Intent Classifier (intent)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Booking Agent (booking)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: FAQ Agent (faq)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Support Agent (support)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Goodbye Agent (goodbye)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Response Formatter (formatter)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_greeter (start -> greeter)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_greeter_intent (greeter -> intent)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_booking (intent -> booking)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_faq (intent -> faq)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_support (intent -> support)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_goodbye (intent -> goodbye)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: intent_faq_fallback (intent -> faq)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_booking_formatter (booking -> formatter)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_faq_formatter (faq -> formatter)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_support_formatter (support -> formatter)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_goodbye_end (goodbye -> end)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_formatter_end (formatter -> end)
2025-12-06 23:31:41 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Conversational Agent (9 nodes, 12 edges)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Greeter (greeter)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [GREETER:INIT] Initializing GreeterNode: Greeter
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [GREETER:INIT] First message: 'Hello! How can I help you today?...'
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized decision node: Intent Classifier (intent)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [INTENT:INIT] Initializing IntentClassifierNode: Intent Classifier
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [INTENT:INIT] Configured 6 intent categories
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Booking Agent (booking)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [BOOKING:INIT] Initializing BookingAgentNode: Booking Agent
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [BOOKING:INIT] Configured 5 available slots
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: FAQ Agent (faq)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [FAQ:INIT] Initializing FAQAgentNode: FAQ Agent
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [FAQ:INIT] Knowledge base topics: ['hours', 'location', 'contact', 'pricing']
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Support Agent (support)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [SUPPORT:INIT] Initializing SupportAgentNode: Support Agent
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [SUPPORT:INIT] Escalation keywords: ['urgent', 'critical', 'immediately', 'emergency']
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Goodbye Agent (goodbye)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [GOODBYE:INIT] Initializing GoodbyeNode: Goodbye Agent
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Response Formatter (formatter)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [FORMATTER:INIT] Initializing ResponseFormatterNode: Response Formatter
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Conversational Agent (id=280217c5-f6ea-4c3f-a56e-2b503a45c3c4, execution=7072855c-e7e0-4b49-943d-c8ba3b331a7a)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS] >>> WORKFLOW START: Conversational Agent
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS]     Execution ID: 7072855c-e7e0-4b49-943d-c8ba3b331a7a
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: start (type=start)
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: start (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Greeter (iteration=2)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Greeter (type=agent)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [GREETER] Executing node: Greeter                                  |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER] is_new_conversation: True, user_name: there
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER] New conversation - using first message
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER:DONE] Greeting: 'Hello! How can I help you today?...', Input: 'I want to book an appointment ...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Greeter (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Greeter (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Intent Classifier (iteration=3)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Intent Classifier (type=decision)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [INTENT] Executing node: Intent Classifier                         |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] User input: 'I want to book an appointment for next week...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] MATCH! keyword='book' -> intent='booking'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT:DONE] Intent: 'booking' (confidence: 0.80)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Intent Classifier (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Intent Classifier (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_intent_booking: All conditions passed
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Booking Agent (iteration=4)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Booking Agent (type=agent)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [BOOKING] Executing node: Booking Agent                            |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [BOOKING:DONE] Offered 5 slots
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Booking Agent (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Booking Agent (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Response Formatter (iteration=5)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Response Formatter (type=transform)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [FORMATTER] Executing node: Response Formatter                     |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FORMATTER] Added closing message
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FORMATTER:DONE] Response length: 194 chars
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Response Formatter (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Response Formatter (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=6)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: end (type=end)
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: end (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS] <<< WORKFLOW COMPLETE: Conversational Agent
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS]     Duration: 0.00ms
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS]     Path: start -> greeter -> intent -> booking -> formatter -> end
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Conversational Agent (duration=0.00ms)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [OK] Booking workflow completed successfully
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [OK] Execution path: start -> greeter -> intent -> booking -> formatter -> end
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [WORKFLOW_OBS:INIT] ConversationObserver initialized
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [NODE_OBS:INIT] NodeTrackingObserver initialized
2025-12-06 23:31:41 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | TEST: support_intent_workflow                                      |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Greeter (greeter)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized decision node: Intent Classifier (intent)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Booking Agent (booking)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: FAQ Agent (faq)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Support Agent (support)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Goodbye Agent (goodbye)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Response Formatter (formatter)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_greeter (start -> greeter)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_greeter_intent (greeter -> intent)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_booking (intent -> booking)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_faq (intent -> faq)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_support (intent -> support)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_goodbye (intent -> goodbye)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: intent_faq_fallback (intent -> faq)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_booking_formatter (booking -> formatter)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_faq_formatter (faq -> formatter)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_support_formatter (support -> formatter)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_goodbye_end (goodbye -> end)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_formatter_end (formatter -> end)
2025-12-06 23:31:41 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Conversational Agent (9 nodes, 12 edges)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Greeter (greeter)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [GREETER:INIT] Initializing GreeterNode: Greeter
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [GREETER:INIT] First message: 'Hello! How can I help you today?...'
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized decision node: Intent Classifier (intent)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [INTENT:INIT] Initializing IntentClassifierNode: Intent Classifier
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [INTENT:INIT] Configured 6 intent categories
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Booking Agent (booking)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [BOOKING:INIT] Initializing BookingAgentNode: Booking Agent
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [BOOKING:INIT] Configured 5 available slots
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: FAQ Agent (faq)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [FAQ:INIT] Initializing FAQAgentNode: FAQ Agent
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [FAQ:INIT] Knowledge base topics: ['hours', 'location', 'contact', 'pricing']
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Support Agent (support)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [SUPPORT:INIT] Initializing SupportAgentNode: Support Agent
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [SUPPORT:INIT] Escalation keywords: ['urgent', 'critical', 'immediately', 'emergency']
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Goodbye Agent (goodbye)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [GOODBYE:INIT] Initializing GoodbyeNode: Goodbye Agent
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Response Formatter (formatter)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [FORMATTER:INIT] Initializing ResponseFormatterNode: Response Formatter
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Conversational Agent (id=7789a582-af3b-4fd8-98cf-42f256132cdc, execution=34dc08d8-efaf-48ee-b4c2-e64d76f3d2c5)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS] >>> WORKFLOW START: Conversational Agent
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS]     Execution ID: 34dc08d8-efaf-48ee-b4c2-e64d76f3d2c5
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: start (type=start)
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: start (0.51ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.51ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Greeter (iteration=2)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Greeter (type=agent)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [GREETER] Executing node: Greeter                                  |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER] is_new_conversation: True, user_name: there
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER] New conversation - using first message
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER:DONE] Greeting: 'Hello! How can I help you today?...', Input: 'I have a problem with my accou...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Greeter (1.01ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Greeter (duration=1.01ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Intent Classifier (iteration=3)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Intent Classifier (type=decision)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [INTENT] Executing node: Intent Classifier                         |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] User input: 'I have a problem with my account, it's not working...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] MATCH! keyword='problem' -> intent='support'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT:DONE] Intent: 'support' (confidence: 0.80)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Intent Classifier (0.51ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Intent Classifier (duration=0.51ms)
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_intent_booking: Condition $ctx.detected_intent equals booking failed
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_intent_faq: Condition $ctx.detected_intent equals faq failed
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_intent_support: All conditions passed
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Support Agent (iteration=4)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Support Agent (type=agent)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [SUPPORT] Executing node: Support Agent                            |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [SUPPORT:DONE] Ticket: TKT-20251206233141, Action: support_started, Escalated: False
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Support Agent (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Support Agent (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Response Formatter (iteration=5)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Response Formatter (type=transform)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [FORMATTER] Executing node: Response Formatter                     |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FORMATTER] Added closing message
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FORMATTER:DONE] Response length: 133 chars
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Response Formatter (1.01ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Response Formatter (duration=1.01ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=6)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: end (type=end)
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: end (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS] <<< WORKFLOW COMPLETE: Conversational Agent
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS]     Duration: 5.06ms
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS]     Path: start -> greeter -> intent -> support -> formatter -> end
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Conversational Agent (duration=5.06ms)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [OK] Support ticket created: TKT-20251206233141
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [WORKFLOW_OBS:INIT] ConversationObserver initialized
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [NODE_OBS:INIT] NodeTrackingObserver initialized
2025-12-06 23:31:41 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | TEST: faq_intent_workflow                                          |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Greeter (greeter)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized decision node: Intent Classifier (intent)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Booking Agent (booking)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: FAQ Agent (faq)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Support Agent (support)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Goodbye Agent (goodbye)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Response Formatter (formatter)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_greeter (start -> greeter)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_greeter_intent (greeter -> intent)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_booking (intent -> booking)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_faq (intent -> faq)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_support (intent -> support)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_goodbye (intent -> goodbye)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: intent_faq_fallback (intent -> faq)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_booking_formatter (booking -> formatter)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_faq_formatter (faq -> formatter)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_support_formatter (support -> formatter)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_goodbye_end (goodbye -> end)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_formatter_end (formatter -> end)
2025-12-06 23:31:41 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Conversational Agent (9 nodes, 12 edges)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Greeter (greeter)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [GREETER:INIT] Initializing GreeterNode: Greeter
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [GREETER:INIT] First message: 'Hello! How can I help you today?...'
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized decision node: Intent Classifier (intent)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [INTENT:INIT] Initializing IntentClassifierNode: Intent Classifier
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [INTENT:INIT] Configured 6 intent categories
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Booking Agent (booking)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [BOOKING:INIT] Initializing BookingAgentNode: Booking Agent
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [BOOKING:INIT] Configured 5 available slots
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: FAQ Agent (faq)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [FAQ:INIT] Initializing FAQAgentNode: FAQ Agent
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [FAQ:INIT] Knowledge base topics: ['hours', 'location', 'contact', 'pricing']
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Support Agent (support)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [SUPPORT:INIT] Initializing SupportAgentNode: Support Agent
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [SUPPORT:INIT] Escalation keywords: ['urgent', 'critical', 'immediately', 'emergency']
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Goodbye Agent (goodbye)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [GOODBYE:INIT] Initializing GoodbyeNode: Goodbye Agent
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Response Formatter (formatter)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [FORMATTER:INIT] Initializing ResponseFormatterNode: Response Formatter
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Conversational Agent (id=c45a1dde-860b-4e51-8e19-4791bdcc0602, execution=edcc4380-d07a-4f47-b4ea-7930ff06c35a)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Greeter (iteration=2)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [GREETER] Executing node: Greeter                                  |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER] is_new_conversation: True, user_name: there
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER] New conversation - using first message
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER:DONE] Greeting: 'Hello! How can I help you today?...', Input: 'What are your business hours?...'
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Greeter (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Intent Classifier (iteration=3)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [INTENT] Executing node: Intent Classifier                         |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] User input: 'What are your business hours?...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] MATCH! keyword='hours' -> intent='faq'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT:DONE] Intent: 'faq' (confidence: 0.80)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Intent Classifier (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_intent_booking: Condition $ctx.detected_intent equals booking failed
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_intent_faq: All conditions passed
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: FAQ Agent (iteration=4)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [FAQ] Executing node: FAQ Agent                                    |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FAQ] MATCH! topic='hours'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FAQ:DONE] Topic: hours, Action: faq_answered
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: FAQ Agent (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Response Formatter (iteration=5)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [FORMATTER] Executing node: Response Formatter                     |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FORMATTER] Added closing message
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FORMATTER:DONE] Response length: 86 chars
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Response Formatter (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=6)
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Conversational Agent (duration=0.00ms)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [OK] FAQ workflow completed
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [WORKFLOW_OBS:INIT] ConversationObserver initialized
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [NODE_OBS:INIT] NodeTrackingObserver initialized
2025-12-06 23:31:41 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | TEST: goodbye_intent_workflow                                      |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Greeter (greeter)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized decision node: Intent Classifier (intent)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Booking Agent (booking)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: FAQ Agent (faq)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Support Agent (support)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Goodbye Agent (goodbye)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Response Formatter (formatter)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_greeter (start -> greeter)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_greeter_intent (greeter -> intent)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_booking (intent -> booking)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_faq (intent -> faq)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_support (intent -> support)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_goodbye (intent -> goodbye)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: intent_faq_fallback (intent -> faq)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_booking_formatter (booking -> formatter)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_faq_formatter (faq -> formatter)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_support_formatter (support -> formatter)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_goodbye_end (goodbye -> end)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_formatter_end (formatter -> end)
2025-12-06 23:31:41 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Conversational Agent (9 nodes, 12 edges)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Greeter (greeter)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [GREETER:INIT] Initializing GreeterNode: Greeter
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [GREETER:INIT] First message: 'Hello! How can I help you today?...'
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized decision node: Intent Classifier (intent)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [INTENT:INIT] Initializing IntentClassifierNode: Intent Classifier
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [INTENT:INIT] Configured 6 intent categories
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Booking Agent (booking)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [BOOKING:INIT] Initializing BookingAgentNode: Booking Agent
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [BOOKING:INIT] Configured 5 available slots
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: FAQ Agent (faq)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [FAQ:INIT] Initializing FAQAgentNode: FAQ Agent
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [FAQ:INIT] Knowledge base topics: ['hours', 'location', 'contact', 'pricing']
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Support Agent (support)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [SUPPORT:INIT] Initializing SupportAgentNode: Support Agent
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [SUPPORT:INIT] Escalation keywords: ['urgent', 'critical', 'immediately', 'emergency']
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Goodbye Agent (goodbye)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [GOODBYE:INIT] Initializing GoodbyeNode: Goodbye Agent
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Response Formatter (formatter)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [FORMATTER:INIT] Initializing ResponseFormatterNode: Response Formatter
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Conversational Agent (id=e2991c73-2756-4409-8c75-30ec8b4d01ab, execution=c08b791d-449d-4b43-947b-e72cec9ebbf6)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=1.08ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Greeter (iteration=2)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [GREETER] Executing node: Greeter                                  |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER] is_new_conversation: True, user_name: there
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER] New conversation - using first message
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER:DONE] Greeting: 'Hello! How can I help you today?...', Input: 'goodbye, thank you!...'
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Greeter (duration=1.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Intent Classifier (iteration=3)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [INTENT] Executing node: Intent Classifier                         |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] User input: 'goodbye, thank you!...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] MATCH! keyword='bye' -> intent='goodbye'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT:DONE] Intent: 'goodbye' (confidence: 0.80)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Intent Classifier (duration=1.00ms)
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_intent_booking: Condition $ctx.detected_intent equals booking failed
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_intent_faq: Condition $ctx.detected_intent equals faq failed
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_intent_support: Condition $ctx.detected_intent equals support failed
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_intent_goodbye: All conditions passed
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Goodbye Agent (iteration=4)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [GOODBYE] Executing node: Goodbye Agent                            |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GOODBYE:DONE] Conversation ended
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Goodbye Agent (duration=1.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=5)
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Conversational Agent (duration=5.07ms)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [OK] Goodbye workflow completed, conversation ended
2025-12-06 23:31:41 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | TEST: conditional_edge_evaluation                                  |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: test_edge (a -> b)
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge test_edge: All conditions passed
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [OK] Edge traversable when intent='booking'
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge test_edge: Condition $ctx.intent equals booking failed
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [OK] Edge not traversable when intent='support'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | REGISTERING CUSTOM NODE TYPES                                      |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FACTORY] Registering: greeter (Greeter Agent)
2025-12-06 23:31:41 - core.workflows.nodes.node_factory - INFO - Registered custom node type: greeter (Greeter Agent)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FACTORY] Registering: intent_classifier (Intent Classifier)
2025-12-06 23:31:41 - core.workflows.nodes.node_factory - INFO - Registered custom node type: intent_classifier (Intent Classifier)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FACTORY] Registering: booking_agent (Booking Agent)
2025-12-06 23:31:41 - core.workflows.nodes.node_factory - INFO - Registered custom node type: booking_agent (Booking Agent)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FACTORY] Registering: faq_agent (FAQ Agent)
2025-12-06 23:31:41 - core.workflows.nodes.node_factory - INFO - Registered custom node type: faq_agent (FAQ Agent)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FACTORY] Registering: support_agent (Support Agent)
2025-12-06 23:31:41 - core.workflows.nodes.node_factory - INFO - Registered custom node type: support_agent (Support Agent)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FACTORY] Registering: goodbye_agent (Goodbye Agent)
2025-12-06 23:31:41 - core.workflows.nodes.node_factory - INFO - Registered custom node type: goodbye_agent (Goodbye Agent)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FACTORY] Registering: response_formatter (Response Formatter)
2025-12-06 23:31:41 - core.workflows.nodes.node_factory - INFO - Registered custom node type: response_formatter (Response Formatter)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FACTORY] Registered 7 custom node types
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | TEST: register_and_create_custom_node                              |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [OK] All custom types registered successfully
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized custom node: Factory Greeter (factory_greeter)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [GREETER:INIT] Initializing GreeterNode: Factory Greeter
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [GREETER:INIT] First message: 'Hello! How can I help you today?...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [OK] Created node via factory: Factory Greeter
2025-12-06 23:31:41 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | TEST: streaming_execution                                          |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: transform (transform)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_transform (start -> transform)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_transform_end (transform -> end)
2025-12-06 23:31:41 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Streaming Test (3 nodes, 2 edges)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [STREAM] Node completed: start
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: transform (iteration=2)
2025-12-06 23:31:41 - core.workflows.nodes.transform_node - INFO - Executing transform node: transform
2025-12-06 23:31:41 - core.workflows.nodes.transform_node - DEBUG - Transform node transform completed successfully
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: transform (duration=0.00ms)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [STREAM] Node completed: transform
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=3)
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [STREAM] Node completed: end
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [OK] Streaming completed with 3 results
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [WORKFLOW_OBS:INIT] ConversationObserver initialized
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [NODE_OBS:INIT] NodeTrackingObserver initialized
2025-12-06 23:31:41 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | TEST: multi_turn_conversation                                      |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Greeter (greeter)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized decision node: Intent Classifier (intent)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Booking Agent (booking)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: FAQ Agent (faq)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Support Agent (support)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Goodbye Agent (goodbye)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Response Formatter (formatter)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_greeter (start -> greeter)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_greeter_intent (greeter -> intent)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_booking (intent -> booking)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_faq (intent -> faq)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_support (intent -> support)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_intent_goodbye (intent -> goodbye)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: intent_faq_fallback (intent -> faq)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_booking_formatter (booking -> formatter)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_faq_formatter (faq -> formatter)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_support_formatter (support -> formatter)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_goodbye_end (goodbye -> end)
2025-12-06 23:31:41 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_formatter_end (formatter -> end)
2025-12-06 23:31:41 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Multi-Turn Test (9 nodes, 12 edges)
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Greeter (greeter)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [GREETER:INIT] Initializing GreeterNode: Greeter
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [GREETER:INIT] First message: 'Welcome! How can I assist you?...'
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized decision node: Intent Classifier (intent)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [INTENT:INIT] Initializing IntentClassifierNode: Intent Classifier
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [INTENT:INIT] Configured 6 intent categories
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Booking Agent (booking)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [BOOKING:INIT] Initializing BookingAgentNode: Booking Agent
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [BOOKING:INIT] Configured 5 available slots
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: FAQ Agent (faq)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [FAQ:INIT] Initializing FAQAgentNode: FAQ Agent
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [FAQ:INIT] Knowledge base topics: ['hours', 'location', 'contact', 'pricing']
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Support Agent (support)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [SUPPORT:INIT] Initializing SupportAgentNode: Support Agent
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [SUPPORT:INIT] Escalation keywords: ['urgent', 'critical', 'immediately', 'emergency']
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized agent node: Goodbye Agent (goodbye)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [GOODBYE:INIT] Initializing GoodbyeNode: Goodbye Agent
2025-12-06 23:31:41 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Response Formatter (formatter)
2025-12-06 23:31:41 - tests.workflows.conversational - DEBUG - [FORMATTER:INIT] Initializing ResponseFormatterNode: Response Formatter
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ----------------------------------------------------------------------
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [CONVERSATION] Starting multi-turn conversation
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ----------------------------------------------------------------------
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - 
[TURN 1] User: Hello, I need some help
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Multi-Turn Test (id=a1015734-dda4-401c-8950-b3599891b1f6, execution=5f0c2117-cb9d-404e-95fe-222c7f16d9be)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS] >>> WORKFLOW START: Multi-Turn Test
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS]     Execution ID: 5f0c2117-cb9d-404e-95fe-222c7f16d9be
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: start (type=start)
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: start (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Greeter (iteration=2)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Greeter (type=agent)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [GREETER] Executing node: Greeter                                  |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER] is_new_conversation: True, user_name: there
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER] New conversation - using first message
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER:DONE] Greeting: 'Welcome! How can I assist you?...', Input: 'Hello, I need some help...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Greeter (2.01ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Greeter (duration=2.01ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Intent Classifier (iteration=3)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Intent Classifier (type=decision)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [INTENT] Executing node: Intent Classifier                         |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] User input: 'Hello, I need some help...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] MATCH! keyword='help' -> intent='support'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT:DONE] Intent: 'support' (confidence: 0.80)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Intent Classifier (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Intent Classifier (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_intent_booking: Condition $ctx.detected_intent equals booking failed
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_intent_faq: Condition $ctx.detected_intent equals faq failed
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_intent_support: All conditions passed
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Support Agent (iteration=4)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Support Agent (type=agent)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [SUPPORT] Executing node: Support Agent                            |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [SUPPORT:DONE] Ticket: TKT-20251206233141, Action: support_started, Escalated: False
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Support Agent (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Support Agent (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Response Formatter (iteration=5)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Response Formatter (type=transform)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [FORMATTER] Executing node: Response Formatter                     |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FORMATTER] Added closing message
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FORMATTER:DONE] Response length: 133 chars
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Response Formatter (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Response Formatter (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=6)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: end (type=end)
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: end (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS] <<< WORKFLOW COMPLETE: Multi-Turn Test
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS]     Duration: 2.01ms
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS]     Path: start -> greeter -> intent -> support -> formatter -> end
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Multi-Turn Test (duration=2.01ms)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [TURN 1] Intent: support
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [TURN 1] Path: start -> greeter -> intent -> support -> formatter -> end
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [TURN 1] Response: I'm here to help! Could you please describe the issue you're...
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - 
[TURN 2] User: What are your business hours?
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Multi-Turn Test (id=a1015734-dda4-401c-8950-b3599891b1f6, execution=5dfd63a6-4942-4729-95e5-0a374ee2868d)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS] >>> WORKFLOW START: Multi-Turn Test
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS]     Execution ID: 5dfd63a6-4942-4729-95e5-0a374ee2868d
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: start (type=start)
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: start (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Greeter (iteration=2)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Greeter (type=agent)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [GREETER] Executing node: Greeter                                  |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER] is_new_conversation: True, user_name: there
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER] New conversation - using first message
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER:DONE] Greeting: 'Welcome! How can I assist you?...', Input: 'What are your business hours?...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Greeter (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Greeter (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Intent Classifier (iteration=3)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Intent Classifier (type=decision)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [INTENT] Executing node: Intent Classifier                         |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] User input: 'What are your business hours?...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] MATCH! keyword='hours' -> intent='faq'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT:DONE] Intent: 'faq' (confidence: 0.80)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Intent Classifier (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Intent Classifier (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_intent_booking: Condition $ctx.detected_intent equals booking failed
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_intent_faq: All conditions passed
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: FAQ Agent (iteration=4)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: FAQ Agent (type=agent)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [FAQ] Executing node: FAQ Agent                                    |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FAQ] MATCH! topic='hours'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FAQ:DONE] Topic: hours, Action: faq_answered
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: FAQ Agent (10.60ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: FAQ Agent (duration=10.60ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Response Formatter (iteration=5)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Response Formatter (type=transform)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [FORMATTER] Executing node: Response Formatter                     |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FORMATTER] Added closing message
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FORMATTER:DONE] Response length: 86 chars
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Response Formatter (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Response Formatter (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=6)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: end (type=end)
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: end (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS] <<< WORKFLOW COMPLETE: Multi-Turn Test
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS]     Duration: 10.60ms
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS]     Path: start -> greeter -> intent -> faq -> formatter -> end
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Multi-Turn Test (duration=10.60ms)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [TURN 2] Intent: faq
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [TURN 2] Path: start -> greeter -> intent -> faq -> formatter -> end
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [TURN 2] Response: We're open Monday to Friday, 9 AM to 5 PM. Is there anything...
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - 
[TURN 3] User: I want to schedule an appointment
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Multi-Turn Test (id=a1015734-dda4-401c-8950-b3599891b1f6, execution=43847f88-c457-4089-a295-881164f032fe)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS] >>> WORKFLOW START: Multi-Turn Test
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS]     Execution ID: 43847f88-c457-4089-a295-881164f032fe
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: start (type=start)
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: start (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Greeter (iteration=2)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Greeter (type=agent)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [GREETER] Executing node: Greeter                                  |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER] is_new_conversation: True, user_name: there
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER] New conversation - using first message
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER:DONE] Greeting: 'Welcome! How can I assist you?...', Input: 'I want to schedule an appointm...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Greeter (5.07ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Greeter (duration=5.07ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Intent Classifier (iteration=3)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Intent Classifier (type=decision)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [INTENT] Executing node: Intent Classifier                         |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] User input: 'I want to schedule an appointment...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] MATCH! keyword='schedule' -> intent='booking'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT:DONE] Intent: 'booking' (confidence: 0.80)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Intent Classifier (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Intent Classifier (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_intent_booking: All conditions passed
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Booking Agent (iteration=4)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Booking Agent (type=agent)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [BOOKING] Executing node: Booking Agent                            |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [BOOKING:DONE] Offered 5 slots
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Booking Agent (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Booking Agent (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Response Formatter (iteration=5)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Response Formatter (type=transform)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [FORMATTER] Executing node: Response Formatter                     |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FORMATTER] Added closing message
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FORMATTER:DONE] Response length: 194 chars
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Response Formatter (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Response Formatter (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=6)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: end (type=end)
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: end (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS] <<< WORKFLOW COMPLETE: Multi-Turn Test
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS]     Duration: 5.07ms
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS]     Path: start -> greeter -> intent -> booking -> formatter -> end
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Multi-Turn Test (duration=5.07ms)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [TURN 3] Intent: booking
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [TURN 3] Path: start -> greeter -> intent -> booking -> formatter -> end
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [TURN 3] Response: I'd be happy to help you book an appointment. Here are our a...
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - 
[TURN 4] User: I have a problem with my account
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Multi-Turn Test (id=a1015734-dda4-401c-8950-b3599891b1f6, execution=89024cef-7214-4af2-bda0-f50b1f6d0c53)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS] >>> WORKFLOW START: Multi-Turn Test
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS]     Execution ID: 89024cef-7214-4af2-bda0-f50b1f6d0c53
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: start (type=start)
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: start (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Greeter (iteration=2)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Greeter (type=agent)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [GREETER] Executing node: Greeter                                  |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER] is_new_conversation: True, user_name: there
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER] New conversation - using first message
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [GREETER:DONE] Greeting: 'Welcome! How can I assist you?...', Input: 'I have a problem with my accou...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Greeter (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Greeter (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Intent Classifier (iteration=3)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Intent Classifier (type=decision)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [INTENT] Executing node: Intent Classifier                         |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] User input: 'I have a problem with my account...'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT] MATCH! keyword='problem' -> intent='support'
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [INTENT:DONE] Intent: 'support' (confidence: 0.80)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Intent Classifier (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Intent Classifier (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_intent_booking: Condition $ctx.detected_intent equals booking failed
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_intent_faq: Condition $ctx.detected_intent equals faq failed
2025-12-06 23:31:41 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_intent_support: All conditions passed
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Support Agent (iteration=4)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Support Agent (type=agent)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [SUPPORT] Executing node: Support Agent                            |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [SUPPORT:DONE] Ticket: TKT-20251206233141, Action: support_started, Escalated: False
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Support Agent (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Support Agent (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Response Formatter (iteration=5)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: Response Formatter (type=transform)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | [FORMATTER] Executing node: Response Formatter                     |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FORMATTER] Added closing message
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [FORMATTER:DONE] Response length: 133 chars
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: Response Formatter (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Response Formatter (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=6)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] >>> NODE START: end (type=end)
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:41 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [NODE_OBS] <<< NODE COMPLETE: end (0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS] <<< WORKFLOW COMPLETE: Multi-Turn Test
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS]     Duration: 0.00ms
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [WORKFLOW_OBS]     Path: start -> greeter -> intent -> support -> formatter -> end
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ======================================================================
2025-12-06 23:31:41 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Multi-Turn Test (duration=0.00ms)
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [TURN 4] Intent: support
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [TURN 4] Path: start -> greeter -> intent -> support -> formatter -> end
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [TURN 4] Response: I'm here to help! Could you please describe the issue you're...
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - ----------------------------------------------------------------------
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - [STATS] Conversation Summary
2025-12-06 23:31:41 - tests.workflows.conversational - INFO -         Total turns: 4
2025-12-06 23:31:41 - tests.workflows.conversational - INFO -         Workflow events: 8
2025-12-06 23:31:41 - tests.workflows.conversational - INFO -         Node executions: 24
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - | TEST PASSED: multi_turn_conversation                               |
2025-12-06 23:31:41 - tests.workflows.conversational - INFO - +====================================================================+
2025-12-06 23:31:41 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:41 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:41 - tests.workflows.math - INFO - TEST: add_tool_spec
2025-12-06 23:31:41 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:41 - tests.workflows.math - INFO - [OK] Add tool spec: add
2025-12-06 23:31:41 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:41 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:41 - tests.workflows.math - INFO - TEST: subtract_tool_spec
2025-12-06 23:31:41 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:41 - tests.workflows.math - INFO - [OK] Subtract tool spec: subtract
2025-12-06 23:31:41 - tests.workflows.math - DEBUG - [REGISTRY] Initialized tools: ['add', 'subtract']
2025-12-06 23:31:41 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:41 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:41 - tests.workflows.math - INFO - TEST: add_tool_execution
2025-12-06 23:31:41 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:41 - tool.add - INFO - Starting tool execution [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:41 - tool.add - DEBUG - Tool parameters [parameters={'a': '5', 'b': '3'} user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:41 - tool.add - INFO - Validating parameters [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:41 - tool.add - INFO - Parameter validation passed [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:41 - tool.add - INFO - Checking authorization [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:41 - tool.add - INFO - Authorization passed [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:41 - tool.add - INFO - Checking egress permissions [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:41 - tool.add - INFO - Egress check passed [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:41 - tests.workflows.math - INFO - [TOOL:ADD] 5 + 3 = 8
2025-12-06 23:31:41 - tool.add - INFO - Tool execution completed [result={'operation': 'addition', 'operands': {'a': 5, 'b': 3}, 'result': 8} execution_time_ms=4.77 user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:41 - tests.workflows.math - INFO - [OK] 5 + 3 = 8
2025-12-06 23:31:41 - tests.workflows.math - DEBUG - [REGISTRY] Initialized tools: ['add', 'subtract']
2025-12-06 23:31:41 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:41 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:41 - tests.workflows.math - INFO - TEST: subtract_tool_execution
2025-12-06 23:31:41 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:41 - tool.subtract - INFO - Starting tool execution [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:41 - tool.subtract - DEBUG - Tool parameters [parameters={'a': '10', 'b': '4'} user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:41 - tool.subtract - INFO - Validating parameters [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:41 - tool.subtract - INFO - Parameter validation passed [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:41 - tool.subtract - INFO - Checking authorization [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:41 - tool.subtract - INFO - Authorization passed [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:41 - tool.subtract - INFO - Checking egress permissions [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:41 - tool.subtract - INFO - Egress check passed [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:41 - tests.workflows.math - INFO - [TOOL:SUBTRACT] 10 - 4 = 6
2025-12-06 23:31:41 - tool.subtract - INFO - Tool execution completed [result={'operation': 'subtraction', 'operands': {'a': 10, 'b': 4}, 'result': 6} execution_time_ms=12.37 user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:41 - tests.workflows.math - INFO - [OK] 10 - 4 = 6
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [REGISTRY] Initialized tools: ['add', 'subtract']
2025-12-06 23:31:42 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - tests.workflows.math - INFO - TEST: tool_registry
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] Tool registry works correctly
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [REGISTRY] Initialized tools: ['add', 'subtract']
2025-12-06 23:31:42 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - tests.workflows.math - INFO - TEST: tool_with_decimals
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - tool.add - INFO - Starting tool execution [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:42 - tool.add - DEBUG - Tool parameters [parameters={'a': '2.5', 'b': '1.5'} user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:42 - tool.add - INFO - Validating parameters [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:42 - tool.add - INFO - Parameter validation passed [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:42 - tool.add - INFO - Checking authorization [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:42 - tool.add - INFO - Authorization passed [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:42 - tool.add - INFO - Checking egress permissions [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:42 - tool.add - INFO - Egress check passed [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL:ADD] 2.5 + 1.5 = 4.0
2025-12-06 23:31:42 - tool.add - INFO - Tool execution completed [result={'operation': 'addition', 'operands': {'a': 2.5, 'b': 1.5}, 'result': 4.0} execution_time_ms=4.02 user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:42 - tool.subtract - INFO - Starting tool execution [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:42 - tool.subtract - DEBUG - Tool parameters [parameters={'a': '5.5', 'b': '2.5'} user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:42 - tool.subtract - INFO - Validating parameters [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:42 - tool.subtract - INFO - Parameter validation passed [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:42 - tool.subtract - INFO - Checking authorization [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:42 - tool.subtract - INFO - Authorization passed [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:42 - tool.subtract - INFO - Checking egress permissions [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:42 - tool.subtract - INFO - Egress check passed [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL:SUBTRACT] 5.5 - 2.5 = 3.0
2025-12-06 23:31:42 - tool.subtract - INFO - Tool execution completed [result={'operation': 'subtraction', 'operands': {'a': 5.5, 'b': 2.5}, 'result': 3.0} execution_time_ms=6.59 user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] Decimal operations work correctly
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [REGISTRY] Initialized tools: ['add', 'subtract']
2025-12-06 23:31:42 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - tests.workflows.math - INFO - TEST: tool_with_negative_numbers
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - tool.add - INFO - Starting tool execution [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:42 - tool.add - DEBUG - Tool parameters [parameters={'a': '-5', 'b': '3'} user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:42 - tool.add - INFO - Validating parameters [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:42 - tool.add - INFO - Parameter validation passed [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:42 - tool.add - INFO - Checking authorization [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:42 - tool.add - INFO - Authorization passed [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:42 - tool.add - INFO - Checking egress permissions [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:42 - tool.add - INFO - Egress check passed [user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL:ADD] -5 + 3 = -2
2025-12-06 23:31:42 - tool.add - INFO - Tool execution completed [result={'operation': 'addition', 'operands': {'a': -5, 'b': 3}, 'result': -2} execution_time_ms=6.77 user_id=None session_id=None tool_name=add trace_id=None]
2025-12-06 23:31:42 - tool.subtract - INFO - Starting tool execution [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:42 - tool.subtract - DEBUG - Tool parameters [parameters={'a': '3', 'b': '7'} user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:42 - tool.subtract - INFO - Validating parameters [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:42 - tool.subtract - INFO - Parameter validation passed [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:42 - tool.subtract - INFO - Checking authorization [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:42 - tool.subtract - INFO - Authorization passed [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:42 - tool.subtract - INFO - Checking egress permissions [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:42 - tool.subtract - INFO - Egress check passed [user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL:SUBTRACT] 3 - 7 = -4
2025-12-06 23:31:42 - tool.subtract - INFO - Tool execution completed [result={'operation': 'subtraction', 'operands': {'a': 3, 'b': 7}, 'result': -4} execution_time_ms=7.15 user_id=None session_id=None tool_name=subtract trace_id=None]
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] Negative number operations work correctly
2025-12-06 23:31:42 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - tests.workflows.math - INFO - TEST: parse_addition_natural
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Parser (parser)
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [PARSER:INIT] Initializing MathParserNode: Parser
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [PARSER] Executing node: Parser                                    |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] User input: 'Add 5 and 3'
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Matched ADD pattern: a=5.0, b=3.0
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: add(5.0, 3.0), format=english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] Parsed: 'Add 5 and 3' -> add(5, 3)
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [PARSER] Executing node: Parser                                    |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] User input: 'add 10 to 20'
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Matched ADD pattern: a=10.0, b=20.0
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: add(10.0, 20.0), format=english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] Parsed: 'add 10 to 20' -> add(10, 20)
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [PARSER] Executing node: Parser                                    |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] User input: 'What is 7 plus 8?'
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Matched ADD pattern: a=7.0, b=8.0
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: add(7.0, 8.0), format=english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] Parsed: 'What is 7 plus 8?' -> add(7, 8)
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [PARSER] Executing node: Parser                                    |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] User input: 'sum of 100 and 50'
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Matched ADD pattern: a=100.0, b=50.0
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: add(100.0, 50.0), format=english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] Parsed: 'sum of 100 and 50' -> add(100, 50)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] Natural language addition parsing works
2025-12-06 23:31:42 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - tests.workflows.math - INFO - TEST: parse_subtraction_natural
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Parser (parser)
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [PARSER:INIT] Initializing MathParserNode: Parser
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [PARSER] Executing node: Parser                                    |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] User input: '10 minus 4'
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Matched SUBTRACT pattern: a=10.0, b=4.0
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: subtract(10.0, 4.0), format=english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] Parsed: '10 minus 4' -> subtract(10, 4)
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [PARSER] Executing node: Parser                                    |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] User input: 'What is 20 minus 5?'
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Matched SUBTRACT pattern: a=20.0, b=5.0
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: subtract(20.0, 5.0), format=english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] Parsed: 'What is 20 minus 5?' -> subtract(20, 5)
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [PARSER] Executing node: Parser                                    |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] User input: 'Subtract 3 from 10'
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Matched SUBTRACT pattern: a=10.0, b=3.0
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: subtract(10.0, 3.0), format=english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] Parsed: 'Subtract 3 from 10' -> subtract(10, 3)
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [PARSER] Executing node: Parser                                    |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] User input: 'difference between 50 and 30'
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Matched SUBTRACT pattern: a=50.0, b=30.0
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: subtract(50.0, 30.0), format=english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] Parsed: 'difference between 50 and 30' -> subtract(50, 30)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] Natural language subtraction parsing works
2025-12-06 23:31:42 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - tests.workflows.math - INFO - TEST: parse_symbolic
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Parser (parser)
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [PARSER:INIT] Initializing MathParserNode: Parser
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [PARSER] Executing node: Parser                                    |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] User input: '5 + 3'
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Matched ADD pattern: a=5.0, b=3.0
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: add(5.0, 3.0), format=english
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [PARSER] Executing node: Parser                                    |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] User input: '10 - 4'
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Matched SUBTRACT pattern: a=10.0, b=4.0
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: subtract(10.0, 4.0), format=english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] Symbolic parsing works
2025-12-06 23:31:42 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - tests.workflows.math - INFO - TEST: parse_output_format_json
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Parser (parser)
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [PARSER:INIT] Initializing MathParserNode: Parser
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [PARSER] Executing node: Parser                                    |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] User input: 'Add 5 and 3, give me JSON'
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Output format: json
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Matched ADD pattern: a=5.0, b=3.0
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: add(5.0, 3.0), format=json
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] JSON format preference detected
2025-12-06 23:31:42 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - tests.workflows.math - INFO - TEST: parse_failure
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Parser (parser)
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [PARSER:INIT] Initializing MathParserNode: Parser
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [PARSER] Executing node: Parser                                    |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] User input: 'What's the weather today?'
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:42 - tests.workflows.math - WARNING - [PARSER:DONE] Failed to parse input
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] Parse failure handled correctly
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [REGISTRY] Initialized tools: ['add', 'subtract']
2025-12-06 23:31:42 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - tests.workflows.math - INFO - TEST: calculator_addition
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calc)
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [CALC:INIT] Initializing CalculatorNode: Calculator
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [CALC:INIT] Available tools: ['add', 'subtract']
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [CALCULATOR] Executing node: Calculator                            |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [CALCULATOR] Operation: add, a=15, b=25
2025-12-06 23:31:42 - tool.add - INFO - Starting tool execution [user_id=None session_id=test tool_name=add trace_id=c16a1bb4-adf5-4ec4-ad6a-1412175fe4bf]
2025-12-06 23:31:42 - tool.add - DEBUG - Tool parameters [parameters={'a': '15', 'b': '25'} user_id=None session_id=test tool_name=add trace_id=c16a1bb4-adf5-4ec4-ad6a-1412175fe4bf]
2025-12-06 23:31:42 - tool.add - INFO - Validating parameters [user_id=None session_id=test tool_name=add trace_id=c16a1bb4-adf5-4ec4-ad6a-1412175fe4bf]
2025-12-06 23:31:42 - tool.add - INFO - Parameter validation passed [user_id=None session_id=test tool_name=add trace_id=c16a1bb4-adf5-4ec4-ad6a-1412175fe4bf]
2025-12-06 23:31:42 - tool.add - INFO - Checking authorization [user_id=None session_id=test tool_name=add trace_id=c16a1bb4-adf5-4ec4-ad6a-1412175fe4bf]
2025-12-06 23:31:42 - tool.add - INFO - Authorization passed [user_id=None session_id=test tool_name=add trace_id=c16a1bb4-adf5-4ec4-ad6a-1412175fe4bf]
2025-12-06 23:31:42 - tool.add - INFO - Checking egress permissions [user_id=None session_id=test tool_name=add trace_id=c16a1bb4-adf5-4ec4-ad6a-1412175fe4bf]
2025-12-06 23:31:42 - tool.add - INFO - Egress check passed [user_id=None session_id=test tool_name=add trace_id=c16a1bb4-adf5-4ec4-ad6a-1412175fe4bf]
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL:ADD] 15 + 25 = 40
2025-12-06 23:31:42 - tool.add - INFO - Tool execution completed [result={'operation': 'addition', 'operands': {'a': 15, 'b': 25}, 'result': 40} execution_time_ms=7.0 user_id=None session_id=test tool_name=add trace_id=c16a1bb4-adf5-4ec4-ad6a-1412175fe4bf]
2025-12-06 23:31:42 - tests.workflows.math - INFO - [CALCULATOR:DONE] Result: 40 (latency: Nonems)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] 15 + 25 = 40
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [REGISTRY] Initialized tools: ['add', 'subtract']
2025-12-06 23:31:42 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - tests.workflows.math - INFO - TEST: calculator_subtraction
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calc)
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [CALC:INIT] Initializing CalculatorNode: Calculator
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [CALC:INIT] Available tools: ['add', 'subtract']
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [CALCULATOR] Executing node: Calculator                            |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [CALCULATOR] Operation: subtract, a=100, b=35
2025-12-06 23:31:42 - tool.subtract - INFO - Starting tool execution [user_id=None session_id=test tool_name=subtract trace_id=32773830-fad8-466e-ad7f-fa353097da94]
2025-12-06 23:31:42 - tool.subtract - DEBUG - Tool parameters [parameters={'a': '100', 'b': '35'} user_id=None session_id=test tool_name=subtract trace_id=32773830-fad8-466e-ad7f-fa353097da94]
2025-12-06 23:31:42 - tool.subtract - INFO - Validating parameters [user_id=None session_id=test tool_name=subtract trace_id=32773830-fad8-466e-ad7f-fa353097da94]
2025-12-06 23:31:42 - tool.subtract - INFO - Parameter validation passed [user_id=None session_id=test tool_name=subtract trace_id=32773830-fad8-466e-ad7f-fa353097da94]
2025-12-06 23:31:42 - tool.subtract - INFO - Checking authorization [user_id=None session_id=test tool_name=subtract trace_id=32773830-fad8-466e-ad7f-fa353097da94]
2025-12-06 23:31:42 - tool.subtract - INFO - Authorization passed [user_id=None session_id=test tool_name=subtract trace_id=32773830-fad8-466e-ad7f-fa353097da94]
2025-12-06 23:31:42 - tool.subtract - INFO - Checking egress permissions [user_id=None session_id=test tool_name=subtract trace_id=32773830-fad8-466e-ad7f-fa353097da94]
2025-12-06 23:31:42 - tool.subtract - INFO - Egress check passed [user_id=None session_id=test tool_name=subtract trace_id=32773830-fad8-466e-ad7f-fa353097da94]
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL:SUBTRACT] 100 - 35 = 65
2025-12-06 23:31:42 - tool.subtract - INFO - Tool execution completed [result={'operation': 'subtraction', 'operands': {'a': 100, 'b': 35}, 'result': 65} execution_time_ms=5.99 user_id=None session_id=test tool_name=subtract trace_id=32773830-fad8-466e-ad7f-fa353097da94]
2025-12-06 23:31:42 - tests.workflows.math - INFO - [CALCULATOR:DONE] Result: 65 (latency: Nonems)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] 100 - 35 = 65
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [REGISTRY] Initialized tools: ['add', 'subtract']
2025-12-06 23:31:42 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - tests.workflows.math - INFO - TEST: calculator_parse_failure
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calc)
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [CALC:INIT] Initializing CalculatorNode: Calculator
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [CALC:INIT] Available tools: ['add', 'subtract']
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [CALCULATOR] Executing node: Calculator                            |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - WARNING - [CALCULATOR] Input was not parsed successfully
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] Calculator handles parse failure
2025-12-06 23:31:42 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - tests.workflows.math - INFO - TEST: format_english
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Formatter (fmt)
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [FORMATTER:INIT] Initializing OutputFormatterNode: Formatter
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [FORMATTER] Executing node: Formatter                              |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [FORMATTER] Format: english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [FORMATTER] Operation: add(5, 3) = 8
2025-12-06 23:31:42 - tests.workflows.math - INFO - [FORMATTER:DONE] English: 'The sum of 5 and 3 is 8.'
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] English: The sum of 5 and 3 is 8.
2025-12-06 23:31:42 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - tests.workflows.math - INFO - TEST: format_json
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Formatter (fmt)
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [FORMATTER:INIT] Initializing OutputFormatterNode: Formatter
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [FORMATTER] Executing node: Formatter                              |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [FORMATTER] Format: json
2025-12-06 23:31:42 - tests.workflows.math - INFO - [FORMATTER] Operation: add(5, 3) = 8
2025-12-06 23:31:42 - tests.workflows.math - INFO - [FORMATTER:DONE] JSON output generated
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] JSON response generated
2025-12-06 23:31:42 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - tests.workflows.math - INFO - TEST: format_error
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Formatter (fmt)
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [FORMATTER:INIT] Initializing OutputFormatterNode: Formatter
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [FORMATTER] Executing node: Formatter                              |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] Error format works
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [REGISTRY] Initialized tools: ['add', 'subtract']
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Math Parser (parser)
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calculator)
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Output Formatter (formatter)
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:42 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_parser (start -> parser)
2025-12-06 23:31:42 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_parser_calculator (parser -> calculator)
2025-12-06 23:31:42 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_calculator_formatter (calculator -> formatter)
2025-12-06 23:31:42 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_formatter_end (formatter -> end)
2025-12-06 23:31:42 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Math Calculator Workflow (5 nodes, 4 edges)
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Math Parser (parser)
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [PARSER:INIT] Initializing MathParserNode: Math Parser
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calculator)
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [CALC:INIT] Initializing CalculatorNode: Calculator
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [CALC:INIT] Available tools: ['add', 'subtract']
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Output Formatter (formatter)
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [FORMATTER:INIT] Initializing OutputFormatterNode: Output Formatter
2025-12-06 23:31:42 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - tests.workflows.math - INFO - TEST: addition_workflow_english
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Math Calculator Workflow (id=df6ba414-6c4a-4f91-8501-367c3ea97341, execution=00ae3ec7-749a-4f01-b28c-ed129b3cd19a)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [MATH_OBS] Workflow started
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL_OBS] Node started: start
2025-12-06 23:31:42 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:42 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=8.57ms)
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Math Parser (iteration=2)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL_OBS] Node started: Math Parser
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [PARSER] Executing node: Math Parser                               |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] User input: 'Add 25 and 17'
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Matched ADD pattern: a=25.0, b=17.0
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: add(25.0, 17.0), format=english
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Math Parser (duration=0.77ms)
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Calculator (iteration=3)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL_OBS] Node started: Calculator
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [CALCULATOR] Executing node: Calculator                            |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [CALCULATOR] Operation: add, a=25.0, b=17.0
2025-12-06 23:31:42 - tool.add - INFO - Starting tool execution [user_id=None session_id=df6ba414-6c4a-4f91-8501-367c3ea97341 tool_name=add trace_id=00ae3ec7-749a-4f01-b28c-ed129b3cd19a]
2025-12-06 23:31:42 - tool.add - DEBUG - Tool parameters [parameters={'a': '25.0', 'b': '17.0'} user_id=None session_id=df6ba414-6c4a-4f91-8501-367c3ea97341 tool_name=add trace_id=00ae3ec7-749a-4f01-b28c-ed129b3cd19a]
2025-12-06 23:31:42 - tool.add - INFO - Validating parameters [user_id=None session_id=df6ba414-6c4a-4f91-8501-367c3ea97341 tool_name=add trace_id=00ae3ec7-749a-4f01-b28c-ed129b3cd19a]
2025-12-06 23:31:42 - tool.add - INFO - Parameter validation passed [user_id=None session_id=df6ba414-6c4a-4f91-8501-367c3ea97341 tool_name=add trace_id=00ae3ec7-749a-4f01-b28c-ed129b3cd19a]
2025-12-06 23:31:42 - tool.add - INFO - Checking authorization [user_id=None session_id=df6ba414-6c4a-4f91-8501-367c3ea97341 tool_name=add trace_id=00ae3ec7-749a-4f01-b28c-ed129b3cd19a]
2025-12-06 23:31:42 - tool.add - INFO - Authorization passed [user_id=None session_id=df6ba414-6c4a-4f91-8501-367c3ea97341 tool_name=add trace_id=00ae3ec7-749a-4f01-b28c-ed129b3cd19a]
2025-12-06 23:31:42 - tool.add - INFO - Checking egress permissions [user_id=None session_id=df6ba414-6c4a-4f91-8501-367c3ea97341 tool_name=add trace_id=00ae3ec7-749a-4f01-b28c-ed129b3cd19a]
2025-12-06 23:31:42 - tool.add - INFO - Egress check passed [user_id=None session_id=df6ba414-6c4a-4f91-8501-367c3ea97341 tool_name=add trace_id=00ae3ec7-749a-4f01-b28c-ed129b3cd19a]
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL:ADD] 25.0 + 17.0 = 42.0
2025-12-06 23:31:42 - tool.add - INFO - Tool execution completed [result={'operation': 'addition', 'operands': {'a': 25.0, 'b': 17.0}, 'result': 42.0} execution_time_ms=5.08 user_id=None session_id=df6ba414-6c4a-4f91-8501-367c3ea97341 tool_name=add trace_id=00ae3ec7-749a-4f01-b28c-ed129b3cd19a]
2025-12-06 23:31:42 - tests.workflows.math - INFO - [CALCULATOR:DONE] Result: 42.0 (latency: Nonems)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL_OBS] Tool used: add (latency: Nonems)
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Calculator (duration=6.08ms)
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Output Formatter (iteration=4)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL_OBS] Node started: Output Formatter
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [FORMATTER] Executing node: Output Formatter                       |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [FORMATTER] Format: english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [FORMATTER] Operation: add(25.0, 17.0) = 42.0
2025-12-06 23:31:42 - tests.workflows.math - INFO - [FORMATTER:DONE] English: 'The sum of 25.0 and 17.0 is 42.0.'
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Output Formatter (duration=1.00ms)
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=5)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL_OBS] Node started: end
2025-12-06 23:31:42 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:42 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:42 - tests.workflows.math - INFO - [MATH_OBS] Workflow completed in 16.42ms
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Math Calculator Workflow (duration=16.42ms)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] Response: The sum of 25.0 and 17.0 is 42.0.
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [REGISTRY] Initialized tools: ['add', 'subtract']
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Math Parser (parser)
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calculator)
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Output Formatter (formatter)
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:42 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_parser (start -> parser)
2025-12-06 23:31:42 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_parser_calculator (parser -> calculator)
2025-12-06 23:31:42 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_calculator_formatter (calculator -> formatter)
2025-12-06 23:31:42 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_formatter_end (formatter -> end)
2025-12-06 23:31:42 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Math Calculator Workflow (5 nodes, 4 edges)
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Math Parser (parser)
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [PARSER:INIT] Initializing MathParserNode: Math Parser
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calculator)
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [CALC:INIT] Initializing CalculatorNode: Calculator
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [CALC:INIT] Available tools: ['add', 'subtract']
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Output Formatter (formatter)
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [FORMATTER:INIT] Initializing OutputFormatterNode: Output Formatter
2025-12-06 23:31:42 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - tests.workflows.math - INFO - TEST: subtraction_workflow_english
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Math Calculator Workflow (id=ddd23600-4191-4b18-8e35-9a45ba762e92, execution=7c02de71-593d-4a09-8974-492c24bbc64d)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [MATH_OBS] Workflow started
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL_OBS] Node started: start
2025-12-06 23:31:42 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:42 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Math Parser (iteration=2)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL_OBS] Node started: Math Parser
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [PARSER] Executing node: Math Parser                               |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] User input: 'What is 100 minus 37?'
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Matched SUBTRACT pattern: a=100.0, b=37.0
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: subtract(100.0, 37.0), format=english
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Math Parser (duration=0.00ms)
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Calculator (iteration=3)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL_OBS] Node started: Calculator
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [CALCULATOR] Executing node: Calculator                            |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [CALCULATOR] Operation: subtract, a=100.0, b=37.0
2025-12-06 23:31:42 - tool.subtract - INFO - Starting tool execution [user_id=None session_id=ddd23600-4191-4b18-8e35-9a45ba762e92 tool_name=subtract trace_id=7c02de71-593d-4a09-8974-492c24bbc64d]
2025-12-06 23:31:42 - tool.subtract - DEBUG - Tool parameters [parameters={'a': '100.0', 'b': '37.0'} user_id=None session_id=ddd23600-4191-4b18-8e35-9a45ba762e92 tool_name=subtract trace_id=7c02de71-593d-4a09-8974-492c24bbc64d]
2025-12-06 23:31:42 - tool.subtract - INFO - Validating parameters [user_id=None session_id=ddd23600-4191-4b18-8e35-9a45ba762e92 tool_name=subtract trace_id=7c02de71-593d-4a09-8974-492c24bbc64d]
2025-12-06 23:31:42 - tool.subtract - INFO - Parameter validation passed [user_id=None session_id=ddd23600-4191-4b18-8e35-9a45ba762e92 tool_name=subtract trace_id=7c02de71-593d-4a09-8974-492c24bbc64d]
2025-12-06 23:31:42 - tool.subtract - INFO - Checking authorization [user_id=None session_id=ddd23600-4191-4b18-8e35-9a45ba762e92 tool_name=subtract trace_id=7c02de71-593d-4a09-8974-492c24bbc64d]
2025-12-06 23:31:42 - tool.subtract - INFO - Authorization passed [user_id=None session_id=ddd23600-4191-4b18-8e35-9a45ba762e92 tool_name=subtract trace_id=7c02de71-593d-4a09-8974-492c24bbc64d]
2025-12-06 23:31:42 - tool.subtract - INFO - Checking egress permissions [user_id=None session_id=ddd23600-4191-4b18-8e35-9a45ba762e92 tool_name=subtract trace_id=7c02de71-593d-4a09-8974-492c24bbc64d]
2025-12-06 23:31:42 - tool.subtract - INFO - Egress check passed [user_id=None session_id=ddd23600-4191-4b18-8e35-9a45ba762e92 tool_name=subtract trace_id=7c02de71-593d-4a09-8974-492c24bbc64d]
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL:SUBTRACT] 100.0 - 37.0 = 63.0
2025-12-06 23:31:42 - tool.subtract - INFO - Tool execution completed [result={'operation': 'subtraction', 'operands': {'a': 100.0, 'b': 37.0}, 'result': 63.0} execution_time_ms=6.01 user_id=None session_id=ddd23600-4191-4b18-8e35-9a45ba762e92 tool_name=subtract trace_id=7c02de71-593d-4a09-8974-492c24bbc64d]
2025-12-06 23:31:42 - tests.workflows.math - INFO - [CALCULATOR:DONE] Result: 63.0 (latency: Nonems)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL_OBS] Tool used: subtract (latency: Nonems)
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Calculator (duration=13.36ms)
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Output Formatter (iteration=4)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL_OBS] Node started: Output Formatter
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [FORMATTER] Executing node: Output Formatter                       |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [FORMATTER] Format: english
2025-12-06 23:31:42 - tests.workflows.math - INFO - [FORMATTER] Operation: subtract(100.0, 37.0) = 63.0
2025-12-06 23:31:42 - tests.workflows.math - INFO - [FORMATTER:DONE] English: 'The difference between 100.0 and 37.0 is 63.0.'
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Output Formatter (duration=1.00ms)
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=5)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL_OBS] Node started: end
2025-12-06 23:31:42 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:42 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=1.00ms)
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:42 - tests.workflows.math - INFO - [MATH_OBS] Workflow completed in 15.36ms
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Math Calculator Workflow (duration=15.36ms)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] Response: The difference between 100.0 and 37.0 is 63.0.
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [REGISTRY] Initialized tools: ['add', 'subtract']
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Math Parser (parser)
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calculator)
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Output Formatter (formatter)
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:42 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_parser (start -> parser)
2025-12-06 23:31:42 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_parser_calculator (parser -> calculator)
2025-12-06 23:31:42 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_calculator_formatter (calculator -> formatter)
2025-12-06 23:31:42 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_formatter_end (formatter -> end)
2025-12-06 23:31:42 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Math Calculator Workflow (5 nodes, 4 edges)
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Math Parser (parser)
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [PARSER:INIT] Initializing MathParserNode: Math Parser
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calculator)
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [CALC:INIT] Initializing CalculatorNode: Calculator
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [CALC:INIT] Available tools: ['add', 'subtract']
2025-12-06 23:31:42 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Output Formatter (formatter)
2025-12-06 23:31:42 - tests.workflows.math - DEBUG - [FORMATTER:INIT] Initializing OutputFormatterNode: Output Formatter
2025-12-06 23:31:42 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - tests.workflows.math - INFO - TEST: addition_workflow_json
2025-12-06 23:31:42 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Math Calculator Workflow (id=5cd6cef4-9008-4da7-b6d8-e986d77368fc, execution=0af8fd83-cb08-437c-89b0-16361286c0d7)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [MATH_OBS] Workflow started
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:42 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:42 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Math Parser (iteration=2)
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [PARSER] Executing node: Math Parser                               |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] User input: 'Add 50 and 25, give me JSON'
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Output format: json
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER] Matched ADD pattern: a=50.0, b=25.0
2025-12-06 23:31:42 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: add(50.0, 25.0), format=json
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Math Parser (duration=1.00ms)
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Calculator (iteration=3)
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [CALCULATOR] Executing node: Calculator                            |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [CALCULATOR] Operation: add, a=50.0, b=25.0
2025-12-06 23:31:42 - tool.add - INFO - Starting tool execution [user_id=None session_id=5cd6cef4-9008-4da7-b6d8-e986d77368fc tool_name=add trace_id=0af8fd83-cb08-437c-89b0-16361286c0d7]
2025-12-06 23:31:42 - tool.add - DEBUG - Tool parameters [parameters={'a': '50.0', 'b': '25.0'} user_id=None session_id=5cd6cef4-9008-4da7-b6d8-e986d77368fc tool_name=add trace_id=0af8fd83-cb08-437c-89b0-16361286c0d7]
2025-12-06 23:31:42 - tool.add - INFO - Validating parameters [user_id=None session_id=5cd6cef4-9008-4da7-b6d8-e986d77368fc tool_name=add trace_id=0af8fd83-cb08-437c-89b0-16361286c0d7]
2025-12-06 23:31:42 - tool.add - INFO - Parameter validation passed [user_id=None session_id=5cd6cef4-9008-4da7-b6d8-e986d77368fc tool_name=add trace_id=0af8fd83-cb08-437c-89b0-16361286c0d7]
2025-12-06 23:31:42 - tool.add - INFO - Checking authorization [user_id=None session_id=5cd6cef4-9008-4da7-b6d8-e986d77368fc tool_name=add trace_id=0af8fd83-cb08-437c-89b0-16361286c0d7]
2025-12-06 23:31:42 - tool.add - INFO - Authorization passed [user_id=None session_id=5cd6cef4-9008-4da7-b6d8-e986d77368fc tool_name=add trace_id=0af8fd83-cb08-437c-89b0-16361286c0d7]
2025-12-06 23:31:42 - tool.add - INFO - Checking egress permissions [user_id=None session_id=5cd6cef4-9008-4da7-b6d8-e986d77368fc tool_name=add trace_id=0af8fd83-cb08-437c-89b0-16361286c0d7]
2025-12-06 23:31:42 - tool.add - INFO - Egress check passed [user_id=None session_id=5cd6cef4-9008-4da7-b6d8-e986d77368fc tool_name=add trace_id=0af8fd83-cb08-437c-89b0-16361286c0d7]
2025-12-06 23:31:42 - tests.workflows.math - INFO - [TOOL:ADD] 50.0 + 25.0 = 75.0
2025-12-06 23:31:42 - tool.add - INFO - Tool execution completed [result={'operation': 'addition', 'operands': {'a': 50.0, 'b': 25.0}, 'result': 75.0} execution_time_ms=1.05 user_id=None session_id=5cd6cef4-9008-4da7-b6d8-e986d77368fc tool_name=add trace_id=0af8fd83-cb08-437c-89b0-16361286c0d7]
2025-12-06 23:31:42 - tests.workflows.math - INFO - [CALCULATOR:DONE] Result: 75.0 (latency: Nonems)
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Calculator (duration=2.37ms)
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Output Formatter (iteration=4)
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - | [FORMATTER] Executing node: Output Formatter                       |
2025-12-06 23:31:42 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:42 - tests.workflows.math - INFO - [FORMATTER] Format: json
2025-12-06 23:31:42 - tests.workflows.math - INFO - [FORMATTER] Operation: add(50.0, 25.0) = 75.0
2025-12-06 23:31:42 - tests.workflows.math - INFO - [FORMATTER:DONE] JSON output generated
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Output Formatter (duration=5.03ms)
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=5)
2025-12-06 23:31:42 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:42 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:42 - tests.workflows.math - INFO - [MATH_OBS] Workflow completed in 9.39ms
2025-12-06 23:31:42 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Math Calculator Workflow (duration=9.39ms)
2025-12-06 23:31:42 - tests.workflows.math - INFO - [OK] JSON Response: {'query': 'Add 50 and 25, give me JSON', 'operation': 'add', 'operands': {'a': 50.0, 'b': 25.0}, 'result': 75.0, 'formatted_result': '75.0', 'tool_latency_ms': None}
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [REGISTRY] Initialized tools: ['add', 'subtract']
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Math Parser (parser)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calculator)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Output Formatter (formatter)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_parser (start -> parser)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_parser_calculator (parser -> calculator)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_calculator_formatter (calculator -> formatter)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_formatter_end (formatter -> end)
2025-12-06 23:31:43 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Math Calculator Workflow (5 nodes, 4 edges)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Math Parser (parser)
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [PARSER:INIT] Initializing MathParserNode: Math Parser
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calculator)
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [CALC:INIT] Initializing CalculatorNode: Calculator
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [CALC:INIT] Available tools: ['add', 'subtract']
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Output Formatter (formatter)
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [FORMATTER:INIT] Initializing OutputFormatterNode: Output Formatter
2025-12-06 23:31:43 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:43 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:43 - tests.workflows.math - INFO - TEST: symbolic_input
2025-12-06 23:31:43 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Math Calculator Workflow (id=c224d5d1-604f-40f2-a903-87c941a0368c, execution=8b180119-ce98-49f0-9153-80925d5699f7)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Math Parser (iteration=2)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [PARSER] Executing node: Math Parser                               |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] User input: '5 + 3'
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] Matched ADD pattern: a=5.0, b=3.0
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: add(5.0, 3.0), format=english
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Math Parser (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Calculator (iteration=3)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [CALCULATOR] Executing node: Calculator                            |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [CALCULATOR] Operation: add, a=5.0, b=3.0
2025-12-06 23:31:43 - tool.add - INFO - Starting tool execution [user_id=None session_id=c224d5d1-604f-40f2-a903-87c941a0368c tool_name=add trace_id=8b180119-ce98-49f0-9153-80925d5699f7]
2025-12-06 23:31:43 - tool.add - DEBUG - Tool parameters [parameters={'a': '5.0', 'b': '3.0'} user_id=None session_id=c224d5d1-604f-40f2-a903-87c941a0368c tool_name=add trace_id=8b180119-ce98-49f0-9153-80925d5699f7]
2025-12-06 23:31:43 - tool.add - INFO - Validating parameters [user_id=None session_id=c224d5d1-604f-40f2-a903-87c941a0368c tool_name=add trace_id=8b180119-ce98-49f0-9153-80925d5699f7]
2025-12-06 23:31:43 - tool.add - INFO - Parameter validation passed [user_id=None session_id=c224d5d1-604f-40f2-a903-87c941a0368c tool_name=add trace_id=8b180119-ce98-49f0-9153-80925d5699f7]
2025-12-06 23:31:43 - tool.add - INFO - Checking authorization [user_id=None session_id=c224d5d1-604f-40f2-a903-87c941a0368c tool_name=add trace_id=8b180119-ce98-49f0-9153-80925d5699f7]
2025-12-06 23:31:43 - tool.add - INFO - Authorization passed [user_id=None session_id=c224d5d1-604f-40f2-a903-87c941a0368c tool_name=add trace_id=8b180119-ce98-49f0-9153-80925d5699f7]
2025-12-06 23:31:43 - tool.add - INFO - Checking egress permissions [user_id=None session_id=c224d5d1-604f-40f2-a903-87c941a0368c tool_name=add trace_id=8b180119-ce98-49f0-9153-80925d5699f7]
2025-12-06 23:31:43 - tool.add - INFO - Egress check passed [user_id=None session_id=c224d5d1-604f-40f2-a903-87c941a0368c tool_name=add trace_id=8b180119-ce98-49f0-9153-80925d5699f7]
2025-12-06 23:31:43 - tests.workflows.math - INFO - [TOOL:ADD] 5.0 + 3.0 = 8.0
2025-12-06 23:31:43 - tool.add - INFO - Tool execution completed [result={'operation': 'addition', 'operands': {'a': 5.0, 'b': 3.0}, 'result': 8.0} execution_time_ms=11.66 user_id=None session_id=c224d5d1-604f-40f2-a903-87c941a0368c tool_name=add trace_id=8b180119-ce98-49f0-9153-80925d5699f7]
2025-12-06 23:31:43 - tests.workflows.math - INFO - [CALCULATOR:DONE] Result: 8.0 (latency: Nonems)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Calculator (duration=11.66ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Output Formatter (iteration=4)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [FORMATTER] Executing node: Output Formatter                       |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER] Format: english
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER] Operation: add(5.0, 3.0) = 8.0
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER:DONE] English: 'The sum of 5.0 and 3.0 is 8.0.'
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Output Formatter (duration=1.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=5)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Math Calculator Workflow (duration=13.67ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Math Calculator Workflow (id=c224d5d1-604f-40f2-a903-87c941a0368c, execution=41255054-b227-4978-8eaf-8b96ac0ba35b)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Math Parser (iteration=2)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [PARSER] Executing node: Math Parser                               |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] User input: '20 - 7'
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] Matched SUBTRACT pattern: a=20.0, b=7.0
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: subtract(20.0, 7.0), format=english
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Math Parser (duration=1.24ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Calculator (iteration=3)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [CALCULATOR] Executing node: Calculator                            |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [CALCULATOR] Operation: subtract, a=20.0, b=7.0
2025-12-06 23:31:43 - tool.subtract - INFO - Starting tool execution [user_id=None session_id=c224d5d1-604f-40f2-a903-87c941a0368c tool_name=subtract trace_id=41255054-b227-4978-8eaf-8b96ac0ba35b]
2025-12-06 23:31:43 - tool.subtract - DEBUG - Tool parameters [parameters={'a': '20.0', 'b': '7.0'} user_id=None session_id=c224d5d1-604f-40f2-a903-87c941a0368c tool_name=subtract trace_id=41255054-b227-4978-8eaf-8b96ac0ba35b]
2025-12-06 23:31:43 - tool.subtract - INFO - Validating parameters [user_id=None session_id=c224d5d1-604f-40f2-a903-87c941a0368c tool_name=subtract trace_id=41255054-b227-4978-8eaf-8b96ac0ba35b]
2025-12-06 23:31:43 - tool.subtract - INFO - Parameter validation passed [user_id=None session_id=c224d5d1-604f-40f2-a903-87c941a0368c tool_name=subtract trace_id=41255054-b227-4978-8eaf-8b96ac0ba35b]
2025-12-06 23:31:43 - tool.subtract - INFO - Checking authorization [user_id=None session_id=c224d5d1-604f-40f2-a903-87c941a0368c tool_name=subtract trace_id=41255054-b227-4978-8eaf-8b96ac0ba35b]
2025-12-06 23:31:43 - tool.subtract - INFO - Authorization passed [user_id=None session_id=c224d5d1-604f-40f2-a903-87c941a0368c tool_name=subtract trace_id=41255054-b227-4978-8eaf-8b96ac0ba35b]
2025-12-06 23:31:43 - tool.subtract - INFO - Checking egress permissions [user_id=None session_id=c224d5d1-604f-40f2-a903-87c941a0368c tool_name=subtract trace_id=41255054-b227-4978-8eaf-8b96ac0ba35b]
2025-12-06 23:31:43 - tool.subtract - INFO - Egress check passed [user_id=None session_id=c224d5d1-604f-40f2-a903-87c941a0368c tool_name=subtract trace_id=41255054-b227-4978-8eaf-8b96ac0ba35b]
2025-12-06 23:31:43 - tests.workflows.math - INFO - [TOOL:SUBTRACT] 20.0 - 7.0 = 13.0
2025-12-06 23:31:43 - tool.subtract - INFO - Tool execution completed [result={'operation': 'subtraction', 'operands': {'a': 20.0, 'b': 7.0}, 'result': 13.0} execution_time_ms=3.44 user_id=None session_id=c224d5d1-604f-40f2-a903-87c941a0368c tool_name=subtract trace_id=41255054-b227-4978-8eaf-8b96ac0ba35b]
2025-12-06 23:31:43 - tests.workflows.math - INFO - [CALCULATOR:DONE] Result: 13.0 (latency: Nonems)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Calculator (duration=4.44ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Output Formatter (iteration=4)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [FORMATTER] Executing node: Output Formatter                       |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER] Format: english
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER] Operation: subtract(20.0, 7.0) = 13.0
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER:DONE] English: 'The difference between 20.0 and 7.0 is 13.0.'
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Output Formatter (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=5)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Math Calculator Workflow (duration=5.68ms)
2025-12-06 23:31:43 - tests.workflows.math - INFO - [OK] Symbolic input works
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [REGISTRY] Initialized tools: ['add', 'subtract']
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Math Parser (parser)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calculator)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Output Formatter (formatter)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_parser (start -> parser)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_parser_calculator (parser -> calculator)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_calculator_formatter (calculator -> formatter)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_formatter_end (formatter -> end)
2025-12-06 23:31:43 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Math Calculator Workflow (5 nodes, 4 edges)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Math Parser (parser)
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [PARSER:INIT] Initializing MathParserNode: Math Parser
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calculator)
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [CALC:INIT] Initializing CalculatorNode: Calculator
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [CALC:INIT] Available tools: ['add', 'subtract']
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Output Formatter (formatter)
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [FORMATTER:INIT] Initializing OutputFormatterNode: Output Formatter
2025-12-06 23:31:43 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:43 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:43 - tests.workflows.math - INFO - TEST: decimal_numbers
2025-12-06 23:31:43 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Math Calculator Workflow (id=43d62cfa-fd6e-458b-819b-820de0309091, execution=b510a91d-b3d7-40ce-ab16-27f35c6c6819)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Math Parser (iteration=2)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [PARSER] Executing node: Math Parser                               |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] User input: 'Add 3.5 and 2.5'
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] Matched ADD pattern: a=3.5, b=2.5
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: add(3.5, 2.5), format=english
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Math Parser (duration=2.10ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Calculator (iteration=3)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [CALCULATOR] Executing node: Calculator                            |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [CALCULATOR] Operation: add, a=3.5, b=2.5
2025-12-06 23:31:43 - tool.add - INFO - Starting tool execution [user_id=None session_id=43d62cfa-fd6e-458b-819b-820de0309091 tool_name=add trace_id=b510a91d-b3d7-40ce-ab16-27f35c6c6819]
2025-12-06 23:31:43 - tool.add - DEBUG - Tool parameters [parameters={'a': '3.5', 'b': '2.5'} user_id=None session_id=43d62cfa-fd6e-458b-819b-820de0309091 tool_name=add trace_id=b510a91d-b3d7-40ce-ab16-27f35c6c6819]
2025-12-06 23:31:43 - tool.add - INFO - Validating parameters [user_id=None session_id=43d62cfa-fd6e-458b-819b-820de0309091 tool_name=add trace_id=b510a91d-b3d7-40ce-ab16-27f35c6c6819]
2025-12-06 23:31:43 - tool.add - INFO - Parameter validation passed [user_id=None session_id=43d62cfa-fd6e-458b-819b-820de0309091 tool_name=add trace_id=b510a91d-b3d7-40ce-ab16-27f35c6c6819]
2025-12-06 23:31:43 - tool.add - INFO - Checking authorization [user_id=None session_id=43d62cfa-fd6e-458b-819b-820de0309091 tool_name=add trace_id=b510a91d-b3d7-40ce-ab16-27f35c6c6819]
2025-12-06 23:31:43 - tool.add - INFO - Authorization passed [user_id=None session_id=43d62cfa-fd6e-458b-819b-820de0309091 tool_name=add trace_id=b510a91d-b3d7-40ce-ab16-27f35c6c6819]
2025-12-06 23:31:43 - tool.add - INFO - Checking egress permissions [user_id=None session_id=43d62cfa-fd6e-458b-819b-820de0309091 tool_name=add trace_id=b510a91d-b3d7-40ce-ab16-27f35c6c6819]
2025-12-06 23:31:43 - tool.add - INFO - Egress check passed [user_id=None session_id=43d62cfa-fd6e-458b-819b-820de0309091 tool_name=add trace_id=b510a91d-b3d7-40ce-ab16-27f35c6c6819]
2025-12-06 23:31:43 - tests.workflows.math - INFO - [TOOL:ADD] 3.5 + 2.5 = 6.0
2025-12-06 23:31:43 - tool.add - INFO - Tool execution completed [result={'operation': 'addition', 'operands': {'a': 3.5, 'b': 2.5}, 'result': 6.0} execution_time_ms=0.0 user_id=None session_id=43d62cfa-fd6e-458b-819b-820de0309091 tool_name=add trace_id=b510a91d-b3d7-40ce-ab16-27f35c6c6819]
2025-12-06 23:31:43 - tests.workflows.math - INFO - [CALCULATOR:DONE] Result: 6.0 (latency: Nonems)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Calculator (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Output Formatter (iteration=4)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [FORMATTER] Executing node: Output Formatter                       |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER] Format: english
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER] Operation: add(3.5, 2.5) = 6.0
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER:DONE] English: 'The sum of 3.5 and 2.5 is 6.0.'
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Output Formatter (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=5)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Math Calculator Workflow (duration=2.10ms)
2025-12-06 23:31:43 - tests.workflows.math - INFO - [OK] Decimal result: 6.0
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [REGISTRY] Initialized tools: ['add', 'subtract']
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Math Parser (parser)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calculator)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Output Formatter (formatter)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_parser (start -> parser)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_parser_calculator (parser -> calculator)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_calculator_formatter (calculator -> formatter)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_formatter_end (formatter -> end)
2025-12-06 23:31:43 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Math Calculator Workflow (5 nodes, 4 edges)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Math Parser (parser)
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [PARSER:INIT] Initializing MathParserNode: Math Parser
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calculator)
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [CALC:INIT] Initializing CalculatorNode: Calculator
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [CALC:INIT] Available tools: ['add', 'subtract']
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Output Formatter (formatter)
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [FORMATTER:INIT] Initializing OutputFormatterNode: Output Formatter
2025-12-06 23:31:43 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:43 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:43 - tests.workflows.math - INFO - TEST: invalid_input
2025-12-06 23:31:43 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Math Calculator Workflow (id=2a846d2f-4fd0-480b-bab6-fc670e2699dc, execution=548bce81-d000-429b-8844-91fd8b878096)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Math Parser (iteration=2)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [PARSER] Executing node: Math Parser                               |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] User input: 'Tell me a joke'
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:43 - tests.workflows.math - WARNING - [PARSER:DONE] Failed to parse input
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Math Parser (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Calculator (iteration=3)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [CALCULATOR] Executing node: Calculator                            |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - WARNING - [CALCULATOR] Input was not parsed successfully
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Calculator (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Output Formatter (iteration=4)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [FORMATTER] Executing node: Output Formatter                       |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Output Formatter (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=5)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Math Calculator Workflow (duration=0.00ms)
2025-12-06 23:31:43 - tests.workflows.math - INFO - [OK] Error handled: Sorry, I couldn't complete the calculation. Could not understand the math operation. Try: 'Add 5 and 3' or 'What is 10 minus 4?'
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [REGISTRY] Initialized tools: ['add', 'subtract']
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Math Parser (parser)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calculator)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Output Formatter (formatter)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_parser (start -> parser)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_parser_calculator (parser -> calculator)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_calculator_formatter (calculator -> formatter)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_formatter_end (formatter -> end)
2025-12-06 23:31:43 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Math Calculator Workflow (5 nodes, 4 edges)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Math Parser (parser)
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [PARSER:INIT] Initializing MathParserNode: Math Parser
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calculator)
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [CALC:INIT] Initializing CalculatorNode: Calculator
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [CALC:INIT] Available tools: ['add', 'subtract']
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Output Formatter (formatter)
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [FORMATTER:INIT] Initializing OutputFormatterNode: Output Formatter
2025-12-06 23:31:43 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:43 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:43 - tests.workflows.math - INFO - TEST: execution_path
2025-12-06 23:31:43 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Math Calculator Workflow (id=d5ccfde4-e89b-4a03-a1a3-734ea712e121, execution=02a2ee4e-8ef7-420a-b5c6-e17ed9dee930)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Math Parser (iteration=2)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [PARSER] Executing node: Math Parser                               |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] User input: '5 + 5'
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] Matched ADD pattern: a=5.0, b=5.0
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: add(5.0, 5.0), format=english
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Math Parser (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Calculator (iteration=3)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [CALCULATOR] Executing node: Calculator                            |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [CALCULATOR] Operation: add, a=5.0, b=5.0
2025-12-06 23:31:43 - tool.add - INFO - Starting tool execution [user_id=None session_id=d5ccfde4-e89b-4a03-a1a3-734ea712e121 tool_name=add trace_id=02a2ee4e-8ef7-420a-b5c6-e17ed9dee930]
2025-12-06 23:31:43 - tool.add - DEBUG - Tool parameters [parameters={'a': '5.0', 'b': '5.0'} user_id=None session_id=d5ccfde4-e89b-4a03-a1a3-734ea712e121 tool_name=add trace_id=02a2ee4e-8ef7-420a-b5c6-e17ed9dee930]
2025-12-06 23:31:43 - tool.add - INFO - Validating parameters [user_id=None session_id=d5ccfde4-e89b-4a03-a1a3-734ea712e121 tool_name=add trace_id=02a2ee4e-8ef7-420a-b5c6-e17ed9dee930]
2025-12-06 23:31:43 - tool.add - INFO - Parameter validation passed [user_id=None session_id=d5ccfde4-e89b-4a03-a1a3-734ea712e121 tool_name=add trace_id=02a2ee4e-8ef7-420a-b5c6-e17ed9dee930]
2025-12-06 23:31:43 - tool.add - INFO - Checking authorization [user_id=None session_id=d5ccfde4-e89b-4a03-a1a3-734ea712e121 tool_name=add trace_id=02a2ee4e-8ef7-420a-b5c6-e17ed9dee930]
2025-12-06 23:31:43 - tool.add - INFO - Authorization passed [user_id=None session_id=d5ccfde4-e89b-4a03-a1a3-734ea712e121 tool_name=add trace_id=02a2ee4e-8ef7-420a-b5c6-e17ed9dee930]
2025-12-06 23:31:43 - tool.add - INFO - Checking egress permissions [user_id=None session_id=d5ccfde4-e89b-4a03-a1a3-734ea712e121 tool_name=add trace_id=02a2ee4e-8ef7-420a-b5c6-e17ed9dee930]
2025-12-06 23:31:43 - tool.add - INFO - Egress check passed [user_id=None session_id=d5ccfde4-e89b-4a03-a1a3-734ea712e121 tool_name=add trace_id=02a2ee4e-8ef7-420a-b5c6-e17ed9dee930]
2025-12-06 23:31:43 - tests.workflows.math - INFO - [TOOL:ADD] 5.0 + 5.0 = 10.0
2025-12-06 23:31:43 - tool.add - INFO - Tool execution completed [result={'operation': 'addition', 'operands': {'a': 5.0, 'b': 5.0}, 'result': 10.0} execution_time_ms=14.2 user_id=None session_id=d5ccfde4-e89b-4a03-a1a3-734ea712e121 tool_name=add trace_id=02a2ee4e-8ef7-420a-b5c6-e17ed9dee930]
2025-12-06 23:31:43 - tests.workflows.math - INFO - [CALCULATOR:DONE] Result: 10.0 (latency: Nonems)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Calculator (duration=14.92ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Output Formatter (iteration=4)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [FORMATTER] Executing node: Output Formatter                       |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER] Format: english
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER] Operation: add(5.0, 5.0) = 10.0
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER:DONE] English: 'The sum of 5.0 and 5.0 is 10.0.'
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Output Formatter (duration=1.08ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=5)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Math Calculator Workflow (duration=16.00ms)
2025-12-06 23:31:43 - tests.workflows.math - INFO - [OK] Execution path: ['start', 'parser', 'calculator', 'formatter', 'end']
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [REGISTRY] Initialized tools: ['add', 'subtract']
2025-12-06 23:31:43 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:43 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:43 - tests.workflows.math - INFO - TEST: multiple_calculations
2025-12-06 23:31:43 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Math Parser (parser)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calculator)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Output Formatter (formatter)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_parser (start -> parser)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_parser_calculator (parser -> calculator)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_calculator_formatter (calculator -> formatter)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_formatter_end (formatter -> end)
2025-12-06 23:31:43 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Math Calculator Workflow (5 nodes, 4 edges)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Math Parser (parser)
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [PARSER:INIT] Initializing MathParserNode: Math Parser
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calculator)
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [CALC:INIT] Initializing CalculatorNode: Calculator
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [CALC:INIT] Available tools: ['add', 'subtract']
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Output Formatter (formatter)
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [FORMATTER:INIT] Initializing OutputFormatterNode: Output Formatter
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Math Calculator Workflow (id=4bce2f37-e748-454a-9a96-3bd18538e77a, execution=f9b7386a-a59d-4eed-8e9d-59b4aff9b942)
2025-12-06 23:31:43 - tests.workflows.math - INFO - [MATH_OBS] Workflow started
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Math Parser (iteration=2)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [PARSER] Executing node: Math Parser                               |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] User input: 'Add 10 and 5'
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] Matched ADD pattern: a=10.0, b=5.0
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: add(10.0, 5.0), format=english
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Math Parser (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Calculator (iteration=3)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [CALCULATOR] Executing node: Calculator                            |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [CALCULATOR] Operation: add, a=10.0, b=5.0
2025-12-06 23:31:43 - tool.add - INFO - Starting tool execution [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=add trace_id=f9b7386a-a59d-4eed-8e9d-59b4aff9b942]
2025-12-06 23:31:43 - tool.add - DEBUG - Tool parameters [parameters={'a': '10.0', 'b': '5.0'} user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=add trace_id=f9b7386a-a59d-4eed-8e9d-59b4aff9b942]
2025-12-06 23:31:43 - tool.add - INFO - Validating parameters [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=add trace_id=f9b7386a-a59d-4eed-8e9d-59b4aff9b942]
2025-12-06 23:31:43 - tool.add - INFO - Parameter validation passed [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=add trace_id=f9b7386a-a59d-4eed-8e9d-59b4aff9b942]
2025-12-06 23:31:43 - tool.add - INFO - Checking authorization [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=add trace_id=f9b7386a-a59d-4eed-8e9d-59b4aff9b942]
2025-12-06 23:31:43 - tool.add - INFO - Authorization passed [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=add trace_id=f9b7386a-a59d-4eed-8e9d-59b4aff9b942]
2025-12-06 23:31:43 - tool.add - INFO - Checking egress permissions [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=add trace_id=f9b7386a-a59d-4eed-8e9d-59b4aff9b942]
2025-12-06 23:31:43 - tool.add - INFO - Egress check passed [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=add trace_id=f9b7386a-a59d-4eed-8e9d-59b4aff9b942]
2025-12-06 23:31:43 - tests.workflows.math - INFO - [TOOL:ADD] 10.0 + 5.0 = 15.0
2025-12-06 23:31:43 - tool.add - INFO - Tool execution completed [result={'operation': 'addition', 'operands': {'a': 10.0, 'b': 5.0}, 'result': 15.0} execution_time_ms=4.12 user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=add trace_id=f9b7386a-a59d-4eed-8e9d-59b4aff9b942]
2025-12-06 23:31:43 - tests.workflows.math - INFO - [CALCULATOR:DONE] Result: 15.0 (latency: Nonems)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Calculator (duration=4.12ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Output Formatter (iteration=4)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [FORMATTER] Executing node: Output Formatter                       |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER] Format: english
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER] Operation: add(10.0, 5.0) = 15.0
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER:DONE] English: 'The sum of 10.0 and 5.0 is 15.0.'
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Output Formatter (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=5)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:43 - tests.workflows.math - INFO - [MATH_OBS] Workflow completed in 19.87ms
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Math Calculator Workflow (duration=19.87ms)
2025-12-06 23:31:43 - tests.workflows.math - INFO - [OK] 'Add 10 and 5' = 15 (tool: add)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Math Calculator Workflow (id=4bce2f37-e748-454a-9a96-3bd18538e77a, execution=c0d6c9e3-7e7a-4036-8670-8aa163ee8b7a)
2025-12-06 23:31:43 - tests.workflows.math - INFO - [MATH_OBS] Workflow started
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Math Parser (iteration=2)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [PARSER] Executing node: Math Parser                               |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] User input: '20 - 8'
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] Matched SUBTRACT pattern: a=20.0, b=8.0
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: subtract(20.0, 8.0), format=english
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Math Parser (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Calculator (iteration=3)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [CALCULATOR] Executing node: Calculator                            |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [CALCULATOR] Operation: subtract, a=20.0, b=8.0
2025-12-06 23:31:43 - tool.subtract - INFO - Starting tool execution [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=subtract trace_id=c0d6c9e3-7e7a-4036-8670-8aa163ee8b7a]
2025-12-06 23:31:43 - tool.subtract - DEBUG - Tool parameters [parameters={'a': '20.0', 'b': '8.0'} user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=subtract trace_id=c0d6c9e3-7e7a-4036-8670-8aa163ee8b7a]
2025-12-06 23:31:43 - tool.subtract - INFO - Validating parameters [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=subtract trace_id=c0d6c9e3-7e7a-4036-8670-8aa163ee8b7a]
2025-12-06 23:31:43 - tool.subtract - INFO - Parameter validation passed [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=subtract trace_id=c0d6c9e3-7e7a-4036-8670-8aa163ee8b7a]
2025-12-06 23:31:43 - tool.subtract - INFO - Checking authorization [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=subtract trace_id=c0d6c9e3-7e7a-4036-8670-8aa163ee8b7a]
2025-12-06 23:31:43 - tool.subtract - INFO - Authorization passed [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=subtract trace_id=c0d6c9e3-7e7a-4036-8670-8aa163ee8b7a]
2025-12-06 23:31:43 - tool.subtract - INFO - Checking egress permissions [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=subtract trace_id=c0d6c9e3-7e7a-4036-8670-8aa163ee8b7a]
2025-12-06 23:31:43 - tool.subtract - INFO - Egress check passed [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=subtract trace_id=c0d6c9e3-7e7a-4036-8670-8aa163ee8b7a]
2025-12-06 23:31:43 - tests.workflows.math - INFO - [TOOL:SUBTRACT] 20.0 - 8.0 = 12.0
2025-12-06 23:31:43 - tool.subtract - INFO - Tool execution completed [result={'operation': 'subtraction', 'operands': {'a': 20.0, 'b': 8.0}, 'result': 12.0} execution_time_ms=2.01 user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=subtract trace_id=c0d6c9e3-7e7a-4036-8670-8aa163ee8b7a]
2025-12-06 23:31:43 - tests.workflows.math - INFO - [CALCULATOR:DONE] Result: 12.0 (latency: Nonems)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Calculator (duration=5.36ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Output Formatter (iteration=4)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [FORMATTER] Executing node: Output Formatter                       |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER] Format: english
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER] Operation: subtract(20.0, 8.0) = 12.0
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER:DONE] English: 'The difference between 20.0 and 8.0 is 12.0.'
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Output Formatter (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=5)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:43 - tests.workflows.math - INFO - [MATH_OBS] Workflow completed in 5.36ms
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Math Calculator Workflow (duration=5.36ms)
2025-12-06 23:31:43 - tests.workflows.math - INFO - [OK] '20 - 8' = 12 (tool: subtract)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Math Calculator Workflow (id=4bce2f37-e748-454a-9a96-3bd18538e77a, execution=ea2f0cb4-88cf-40da-bd19-dbdf6b648d01)
2025-12-06 23:31:43 - tests.workflows.math - INFO - [MATH_OBS] Workflow started
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Math Parser (iteration=2)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [PARSER] Executing node: Math Parser                               |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] User input: 'What is 7 plus 3?'
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] Matched ADD pattern: a=7.0, b=3.0
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: add(7.0, 3.0), format=english
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Math Parser (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Calculator (iteration=3)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [CALCULATOR] Executing node: Calculator                            |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [CALCULATOR] Operation: add, a=7.0, b=3.0
2025-12-06 23:31:43 - tool.add - INFO - Starting tool execution [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=add trace_id=ea2f0cb4-88cf-40da-bd19-dbdf6b648d01]
2025-12-06 23:31:43 - tool.add - DEBUG - Tool parameters [parameters={'a': '7.0', 'b': '3.0'} user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=add trace_id=ea2f0cb4-88cf-40da-bd19-dbdf6b648d01]
2025-12-06 23:31:43 - tool.add - INFO - Validating parameters [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=add trace_id=ea2f0cb4-88cf-40da-bd19-dbdf6b648d01]
2025-12-06 23:31:43 - tool.add - INFO - Parameter validation passed [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=add trace_id=ea2f0cb4-88cf-40da-bd19-dbdf6b648d01]
2025-12-06 23:31:43 - tool.add - INFO - Checking authorization [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=add trace_id=ea2f0cb4-88cf-40da-bd19-dbdf6b648d01]
2025-12-06 23:31:43 - tool.add - INFO - Authorization passed [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=add trace_id=ea2f0cb4-88cf-40da-bd19-dbdf6b648d01]
2025-12-06 23:31:43 - tool.add - INFO - Checking egress permissions [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=add trace_id=ea2f0cb4-88cf-40da-bd19-dbdf6b648d01]
2025-12-06 23:31:43 - tool.add - INFO - Egress check passed [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=add trace_id=ea2f0cb4-88cf-40da-bd19-dbdf6b648d01]
2025-12-06 23:31:43 - tests.workflows.math - INFO - [TOOL:ADD] 7.0 + 3.0 = 10.0
2025-12-06 23:31:43 - tool.add - INFO - Tool execution completed [result={'operation': 'addition', 'operands': {'a': 7.0, 'b': 3.0}, 'result': 10.0} execution_time_ms=5.76 user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=add trace_id=ea2f0cb4-88cf-40da-bd19-dbdf6b648d01]
2025-12-06 23:31:43 - tests.workflows.math - INFO - [CALCULATOR:DONE] Result: 10.0 (latency: Nonems)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Calculator (duration=6.76ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Output Formatter (iteration=4)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [FORMATTER] Executing node: Output Formatter                       |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER] Format: english
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER] Operation: add(7.0, 3.0) = 10.0
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER:DONE] English: 'The sum of 7.0 and 3.0 is 10.0.'
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Output Formatter (duration=1.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=5)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:43 - tests.workflows.math - INFO - [MATH_OBS] Workflow completed in 7.76ms
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Math Calculator Workflow (duration=7.76ms)
2025-12-06 23:31:43 - tests.workflows.math - INFO - [OK] 'What is 7 plus 3?' = 10 (tool: add)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Math Calculator Workflow (id=4bce2f37-e748-454a-9a96-3bd18538e77a, execution=50068633-b32b-49a8-b38f-d83293dfb9c5)
2025-12-06 23:31:43 - tests.workflows.math - INFO - [MATH_OBS] Workflow started
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Math Parser (iteration=2)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [PARSER] Executing node: Math Parser                               |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] User input: 'Subtract 5 from 25'
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] Matched SUBTRACT pattern: a=25.0, b=5.0
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: subtract(25.0, 5.0), format=english
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Math Parser (duration=1.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Calculator (iteration=3)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [CALCULATOR] Executing node: Calculator                            |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [CALCULATOR] Operation: subtract, a=25.0, b=5.0
2025-12-06 23:31:43 - tool.subtract - INFO - Starting tool execution [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=subtract trace_id=50068633-b32b-49a8-b38f-d83293dfb9c5]
2025-12-06 23:31:43 - tool.subtract - DEBUG - Tool parameters [parameters={'a': '25.0', 'b': '5.0'} user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=subtract trace_id=50068633-b32b-49a8-b38f-d83293dfb9c5]
2025-12-06 23:31:43 - tool.subtract - INFO - Validating parameters [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=subtract trace_id=50068633-b32b-49a8-b38f-d83293dfb9c5]
2025-12-06 23:31:43 - tool.subtract - INFO - Parameter validation passed [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=subtract trace_id=50068633-b32b-49a8-b38f-d83293dfb9c5]
2025-12-06 23:31:43 - tool.subtract - INFO - Checking authorization [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=subtract trace_id=50068633-b32b-49a8-b38f-d83293dfb9c5]
2025-12-06 23:31:43 - tool.subtract - INFO - Authorization passed [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=subtract trace_id=50068633-b32b-49a8-b38f-d83293dfb9c5]
2025-12-06 23:31:43 - tool.subtract - INFO - Checking egress permissions [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=subtract trace_id=50068633-b32b-49a8-b38f-d83293dfb9c5]
2025-12-06 23:31:43 - tool.subtract - INFO - Egress check passed [user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=subtract trace_id=50068633-b32b-49a8-b38f-d83293dfb9c5]
2025-12-06 23:31:43 - tests.workflows.math - INFO - [TOOL:SUBTRACT] 25.0 - 5.0 = 20.0
2025-12-06 23:31:43 - tool.subtract - INFO - Tool execution completed [result={'operation': 'subtraction', 'operands': {'a': 25.0, 'b': 5.0}, 'result': 20.0} execution_time_ms=3.0 user_id=None session_id=4bce2f37-e748-454a-9a96-3bd18538e77a tool_name=subtract trace_id=50068633-b32b-49a8-b38f-d83293dfb9c5]
2025-12-06 23:31:43 - tests.workflows.math - INFO - [CALCULATOR:DONE] Result: 20.0 (latency: Nonems)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Calculator (duration=5.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Output Formatter (iteration=4)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [FORMATTER] Executing node: Output Formatter                       |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER] Format: english
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER] Operation: subtract(25.0, 5.0) = 20.0
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER:DONE] English: 'The difference between 25.0 and 5.0 is 20.0.'
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Output Formatter (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=5)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:43 - tests.workflows.math - INFO - [MATH_OBS] Workflow completed in 6.00ms
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Math Calculator Workflow (duration=6.00ms)
2025-12-06 23:31:43 - tests.workflows.math - INFO - [OK] 'Subtract 5 from 25' = 20 (tool: subtract)
2025-12-06 23:31:43 - tests.workflows.math - INFO - [OK] All 4 calculations completed
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [REGISTRY] Initialized tools: ['add', 'subtract']
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Math Parser (parser)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calculator)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Output Formatter (formatter)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_parser (start -> parser)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_parser_calculator (parser -> calculator)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_calculator_formatter (calculator -> formatter)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_formatter_end (formatter -> end)
2025-12-06 23:31:43 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Math Calculator Workflow (5 nodes, 4 edges)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Math Parser (parser)
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [PARSER:INIT] Initializing MathParserNode: Math Parser
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Calculator (calculator)
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [CALC:INIT] Initializing CalculatorNode: Calculator
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [CALC:INIT] Available tools: ['add', 'subtract']
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Output Formatter (formatter)
2025-12-06 23:31:43 - tests.workflows.math - DEBUG - [FORMATTER:INIT] Initializing OutputFormatterNode: Output Formatter
2025-12-06 23:31:43 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:43 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:43 - tests.workflows.math - INFO - TEST: streaming_execution
2025-12-06 23:31:43 - tests.workflows.math - INFO - ============================================================
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:43 - tests.workflows.math - INFO - [STREAM] Node: start
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Math Parser (iteration=2)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [PARSER] Executing node: Math Parser                               |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] User input: 'Add 7 and 8'
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] Output format: english
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER] Matched ADD pattern: a=7.0, b=8.0
2025-12-06 23:31:43 - tests.workflows.math - INFO - [PARSER:DONE] Parsed: add(7.0, 8.0), format=english
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Math Parser (duration=0.00ms)
2025-12-06 23:31:43 - tests.workflows.math - INFO - [STREAM] Node: parser
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Calculator (iteration=3)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [CALCULATOR] Executing node: Calculator                            |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [CALCULATOR] Operation: add, a=7.0, b=8.0
2025-12-06 23:31:43 - tool.add - INFO - Starting tool execution [user_id=None session_id=6b4da8bf-cf37-4a31-b3cb-50d73fd7b961 tool_name=add trace_id=e008706a-8dd9-4efe-be84-c6509f43c006]
2025-12-06 23:31:43 - tool.add - DEBUG - Tool parameters [parameters={'a': '7.0', 'b': '8.0'} user_id=None session_id=6b4da8bf-cf37-4a31-b3cb-50d73fd7b961 tool_name=add trace_id=e008706a-8dd9-4efe-be84-c6509f43c006]
2025-12-06 23:31:43 - tool.add - INFO - Validating parameters [user_id=None session_id=6b4da8bf-cf37-4a31-b3cb-50d73fd7b961 tool_name=add trace_id=e008706a-8dd9-4efe-be84-c6509f43c006]
2025-12-06 23:31:43 - tool.add - INFO - Parameter validation passed [user_id=None session_id=6b4da8bf-cf37-4a31-b3cb-50d73fd7b961 tool_name=add trace_id=e008706a-8dd9-4efe-be84-c6509f43c006]
2025-12-06 23:31:43 - tool.add - INFO - Checking authorization [user_id=None session_id=6b4da8bf-cf37-4a31-b3cb-50d73fd7b961 tool_name=add trace_id=e008706a-8dd9-4efe-be84-c6509f43c006]
2025-12-06 23:31:43 - tool.add - INFO - Authorization passed [user_id=None session_id=6b4da8bf-cf37-4a31-b3cb-50d73fd7b961 tool_name=add trace_id=e008706a-8dd9-4efe-be84-c6509f43c006]
2025-12-06 23:31:43 - tool.add - INFO - Checking egress permissions [user_id=None session_id=6b4da8bf-cf37-4a31-b3cb-50d73fd7b961 tool_name=add trace_id=e008706a-8dd9-4efe-be84-c6509f43c006]
2025-12-06 23:31:43 - tool.add - INFO - Egress check passed [user_id=None session_id=6b4da8bf-cf37-4a31-b3cb-50d73fd7b961 tool_name=add trace_id=e008706a-8dd9-4efe-be84-c6509f43c006]
2025-12-06 23:31:43 - tests.workflows.math - INFO - [TOOL:ADD] 7.0 + 8.0 = 15.0
2025-12-06 23:31:43 - tool.add - INFO - Tool execution completed [result={'operation': 'addition', 'operands': {'a': 7.0, 'b': 8.0}, 'result': 15.0} execution_time_ms=13.42 user_id=None session_id=6b4da8bf-cf37-4a31-b3cb-50d73fd7b961 tool_name=add trace_id=e008706a-8dd9-4efe-be84-c6509f43c006]
2025-12-06 23:31:43 - tests.workflows.math - INFO - [CALCULATOR:DONE] Result: 15.0 (latency: Nonems)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Calculator (duration=14.33ms)
2025-12-06 23:31:43 - tests.workflows.math - INFO - [STREAM] Node: calculator
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Output Formatter (iteration=4)
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - | [FORMATTER] Executing node: Output Formatter                       |
2025-12-06 23:31:43 - tests.workflows.math - INFO - +--------------------------------------------------------------------+
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER] Format: english
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER] Operation: add(7.0, 8.0) = 15.0
2025-12-06 23:31:43 - tests.workflows.math - INFO - [FORMATTER:DONE] English: 'The sum of 7.0 and 8.0 is 15.0.'
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Output Formatter (duration=0.00ms)
2025-12-06 23:31:43 - tests.workflows.math - INFO - [STREAM] Node: formatter
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=5)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:43 - tests.workflows.math - INFO - [STREAM] Node: end
2025-12-06 23:31:43 - tests.workflows.math - INFO - [OK] Streamed 5 nodes
2025-12-06 23:31:43 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - tests.workflows.simple - INFO - TEST: minimal_workflow
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_end (start -> end)
2025-12-06 23:31:43 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Minimal Workflow (2 nodes, 1 edges)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [OK] Created minimal workflow with 2 nodes
2025-12-06 23:31:43 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - tests.workflows.simple - INFO - TEST: linear_workflow
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Step A (step_a)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Step B (step_b)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Step C (step_c)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_step_a (start -> step_a)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_step_a_step_b (step_a -> step_b)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_step_b_step_c (step_b -> step_c)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_step_c_end (step_c -> end)
2025-12-06 23:31:43 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Linear Workflow (5 nodes, 4 edges)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [OK] Created linear workflow: 5 nodes, 4 edges
2025-12-06 23:31:43 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - tests.workflows.simple - INFO - TEST: workflow_with_metadata
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_end (start -> end)
2025-12-06 23:31:43 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Metadata Workflow (2 nodes, 1 edges)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [OK] Created workflow with metadata: version=2.0.0
2025-12-06 23:31:43 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - tests.workflows.simple - INFO - TEST: simple_execution
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: process (process)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_process (start -> process)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_process_end (process -> end)
2025-12-06 23:31:43 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Simple Execution Test (3 nodes, 2 edges)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Simple Execution Test (id=b9f12397-3c96-440b-955c-dd5a97da52b3, execution=3cf200c4-b2cf-4aef-b553-f6be2152e353)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [OBS] Workflow started: Simple Execution Test
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [NODE_OBS] Starting: start
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [NODE_OBS] Completed: start (0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: process (iteration=2)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [NODE_OBS] Starting: process
2025-12-06 23:31:43 - core.workflows.nodes.transform_node - INFO - Executing transform node: process
2025-12-06 23:31:43 - core.workflows.nodes.transform_node - DEBUG - Transform node process completed successfully
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [NODE_OBS] Completed: process (0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: process (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=3)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [NODE_OBS] Starting: end
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [NODE_OBS] Completed: end (0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [OBS] Workflow completed in 4.05ms
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Simple Execution Test (duration=4.05ms)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [OK] Execution completed, path: ['start', 'process', 'end']
2025-12-06 23:31:43 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - tests.workflows.simple - INFO - TEST: data_passing
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: transform (transform)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_transform (start -> transform)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_transform_end (transform -> end)
2025-12-06 23:31:43 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Data Passing Test (3 nodes, 2 edges)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Transform (transform)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Data Passing Test (id=afb32af1-99b4-47e1-a7cd-60cc102e8300, execution=eca326e8-4882-41de-8bd4-42be8578f6b5)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [OBS] Workflow started: Data Passing Test
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Transform (iteration=2)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [TRANSFORM] uppercase: 'hello world...' -> 'HELLO WORLD...'
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Transform (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=3)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [OBS] Workflow completed in 0.00ms
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Data Passing Test (duration=0.00ms)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [OK] Data transformed: 'hello world' -> 'HELLO WORLD'
2025-12-06 23:31:43 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - tests.workflows.simple - INFO - TEST: context_sharing
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Counter 1 (counter1)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Counter 2 (counter2)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Counter 3 (counter3)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_counter1 (start -> counter1)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_counter1_counter2 (counter1 -> counter2)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_counter2_counter3 (counter2 -> counter3)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_counter3_end (counter3 -> end)
2025-12-06 23:31:43 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Context Sharing Test (5 nodes, 4 edges)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Counter 1 (counter1)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Counter 2 (counter2)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Counter 3 (counter3)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Context Sharing Test (id=ce79fd6b-ba18-4edf-9621-319aeec9cbe0, execution=eb3fd34a-1c02-48ad-9983-30858f7c63a7)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Counter 1 (iteration=2)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [COUNTER] Counter is now: 1
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Counter 1 (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Counter 2 (iteration=3)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [COUNTER] Counter is now: 3
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Counter 2 (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Counter 3 (iteration=4)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [COUNTER] Counter is now: 6
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Counter 3 (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=5)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Context Sharing Test (duration=0.00ms)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [OK] Context shared across nodes, final counter: 6
2025-12-06 23:31:43 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - tests.workflows.simple - INFO - TEST: simple_conditional
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized decision node: check (check)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Yes Path (yes_path)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: No Path (no_path)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_check (start -> check)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_check_yes_path (check -> yes_path)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_check_no_path (check -> no_path)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_yes_path_end (yes_path -> end)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_no_path_end (no_path -> end)
2025-12-06 23:31:43 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Conditional Test (5 nodes, 5 edges)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized decision node: Check (check)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Yes Path (yes_path)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: No Path (no_path)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Conditional Test (id=2317fa8c-a1f8-479f-9781-73ef106b521f, execution=8b96b014-6231-4e3d-9b46-488bd6c09112)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Check (iteration=2)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [CONDITIONAL] Value 15 > 10
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Check (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_check_yes_path: All conditions passed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Yes Path (iteration=3)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [ECHO] HIGH: {'value': 15, 'threshold': 10, 'is_high': True, 'decision': 'high'}
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Yes Path (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=4)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Conditional Test (duration=2.01ms)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [OK] High value (15) took yes_path
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Conditional Test (id=2317fa8c-a1f8-479f-9781-73ef106b521f, execution=d5df8667-0344-4220-8a8b-6b792aba289c)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=2.01ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Check (iteration=2)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [CONDITIONAL] Value 5 <= 10
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Check (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_check_yes_path: Condition $ctx.is_high_value equals True failed
2025-12-06 23:31:43 - core.workflows.edges.fallback_edge - DEBUG - Fallback edge edge_check_no_path: Providing fallback route
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: No Path (iteration=3)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [ECHO] LOW: {'value': 5, 'threshold': 10, 'is_high': False, 'decision': 'low'}
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: No Path (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=4)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Conditional Test (duration=2.01ms)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [OK] Low value (5) took no_path
2025-12-06 23:31:43 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - tests.workflows.simple - INFO - TEST: multi_branch_routing
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized decision node: router (router)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Branch A (branch_a)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Branch B (branch_b)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Branch C (branch_c)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_router (start -> router)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_router_branch_a (router -> branch_a)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_router_branch_b (router -> branch_b)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_router_branch_c (router -> branch_c)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_branch_a_end (branch_a -> end)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_branch_b_end (branch_b -> end)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_branch_c_end (branch_c -> end)
2025-12-06 23:31:43 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Multi-Branch Test (6 nodes, 7 edges)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized decision node: Router (router)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Multi-Branch Test (id=d0290352-7a16-46cb-8bea-e66386d0315f, execution=a406c85e-5189-4c45-9f42-d97db0311364)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Router (iteration=2)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Router (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_router_branch_a: All conditions passed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Branch A (iteration=3)
2025-12-06 23:31:43 - core.workflows.nodes.transform_node - INFO - Executing transform node: Branch A
2025-12-06 23:31:43 - core.workflows.nodes.transform_node - DEBUG - Transform node Branch A completed successfully
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Branch A (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=4)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Multi-Branch Test (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Multi-Branch Test (id=d0290352-7a16-46cb-8bea-e66386d0315f, execution=efa8849c-dadc-4411-aed8-a2da8c30e82f)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Router (iteration=2)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Router (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_router_branch_a: Condition $ctx.route equals a failed
2025-12-06 23:31:43 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_router_branch_b: All conditions passed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Branch B (iteration=3)
2025-12-06 23:31:43 - core.workflows.nodes.transform_node - INFO - Executing transform node: Branch B
2025-12-06 23:31:43 - core.workflows.nodes.transform_node - DEBUG - Transform node Branch B completed successfully
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Branch B (duration=2.01ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=4)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Multi-Branch Test (duration=2.01ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Multi-Branch Test (id=d0290352-7a16-46cb-8bea-e66386d0315f, execution=10b51ec9-ca24-438d-b111-68b54332f77b)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Router (iteration=2)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Router (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_router_branch_a: Condition $ctx.route equals a failed
2025-12-06 23:31:43 - core.workflows.edges.conditional_edge - DEBUG - Conditional edge edge_router_branch_b: Condition $ctx.route equals b failed
2025-12-06 23:31:43 - core.workflows.edges.fallback_edge - DEBUG - Fallback edge edge_router_branch_c: Providing fallback route
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Branch C (iteration=3)
2025-12-06 23:31:43 - core.workflows.nodes.transform_node - INFO - Executing transform node: Branch C
2025-12-06 23:31:43 - core.workflows.nodes.transform_node - DEBUG - Transform node Branch C completed successfully
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Branch C (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=4)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Multi-Branch Test (duration=0.00ms)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [OK] Multi-branch routing works correctly
2025-12-06 23:31:43 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - tests.workflows.simple - INFO - TEST: basic_streaming
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Step 1 (step1)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Step 2 (step2)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_step1 (start -> step1)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_step1_step2 (step1 -> step2)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_step2_end (step2 -> end)
2025-12-06 23:31:43 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Streaming Test (4 nodes, 3 edges)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [STREAM] Completed: start
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Step 1 (iteration=2)
2025-12-06 23:31:43 - core.workflows.nodes.transform_node - INFO - Executing transform node: Step 1
2025-12-06 23:31:43 - core.workflows.nodes.transform_node - DEBUG - Transform node Step 1 completed successfully
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Step 1 (duration=0.00ms)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [STREAM] Completed: step1
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Step 2 (iteration=3)
2025-12-06 23:31:43 - core.workflows.nodes.transform_node - INFO - Executing transform node: Step 2
2025-12-06 23:31:43 - core.workflows.nodes.transform_node - DEBUG - Transform node Step 2 completed successfully
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Step 2 (duration=0.00ms)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [STREAM] Completed: step2
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=4)
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [STREAM] Completed: end
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [OK] Streamed 4 nodes
2025-12-06 23:31:43 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - tests.workflows.simple - INFO - TEST: streaming_with_observers
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: process (process)
2025-12-06 23:31:43 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_process (start -> process)
2025-12-06 23:31:43 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_process_end (process -> end)
2025-12-06 23:31:43 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Streaming Observer Test (3 nodes, 2 edges)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [NODE_OBS] Starting: start
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [NODE_OBS] Completed: start (0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: process (iteration=2)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [NODE_OBS] Starting: process
2025-12-06 23:31:43 - core.workflows.nodes.transform_node - INFO - Executing transform node: process
2025-12-06 23:31:43 - core.workflows.nodes.transform_node - DEBUG - Transform node process completed successfully
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [NODE_OBS] Completed: process (0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: process (duration=0.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=3)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [NODE_OBS] Starting: end
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:43 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [NODE_OBS] Completed: end (1.00ms)
2025-12-06 23:31:43 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=1.00ms)
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [OK] Streaming with observers: 3 node executions
2025-12-06 23:31:43 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - tests.workflows.simple - INFO - TEST: context_variables
2025-12-06 23:31:43 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:43 - tests.workflows.simple - INFO - [OK] Context variables work correctly
2025-12-06 23:31:44 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:44 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:44 - tests.workflows.simple - INFO - TEST: execution_path_tracking
2025-12-06 23:31:44 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:44 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:44 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Node A (a)
2025-12-06 23:31:44 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Node B (b)
2025-12-06 23:31:44 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Node C (c)
2025-12-06 23:31:44 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:44 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_a (start -> a)
2025-12-06 23:31:44 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_a_b (a -> b)
2025-12-06 23:31:44 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_b_c (b -> c)
2025-12-06 23:31:44 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_c_end (c -> end)
2025-12-06 23:31:44 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Path Tracking Test (5 nodes, 4 edges)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Path Tracking Test (id=cc662a49-53de-47a9-946b-6c7036dc453f, execution=d5742e39-98a2-46e5-8873-47c3fe59d69d)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:44 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:44 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Node A (iteration=2)
2025-12-06 23:31:44 - core.workflows.nodes.transform_node - INFO - Executing transform node: Node A
2025-12-06 23:31:44 - core.workflows.nodes.transform_node - DEBUG - Transform node Node A completed successfully
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Node A (duration=1.07ms)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Node B (iteration=3)
2025-12-06 23:31:44 - core.workflows.nodes.transform_node - INFO - Executing transform node: Node B
2025-12-06 23:31:44 - core.workflows.nodes.transform_node - DEBUG - Transform node Node B completed successfully
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Node B (duration=0.00ms)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Node C (iteration=4)
2025-12-06 23:31:44 - core.workflows.nodes.transform_node - INFO - Executing transform node: Node C
2025-12-06 23:31:44 - core.workflows.nodes.transform_node - DEBUG - Transform node Node C completed successfully
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: Node C (duration=0.00ms)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=5)
2025-12-06 23:31:44 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:44 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Path Tracking Test (duration=1.07ms)
2025-12-06 23:31:44 - tests.workflows.simple - INFO - [OK] Execution path tracked: ['start', 'a', 'b', 'c', 'end']
2025-12-06 23:31:44 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:44 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:44 - tests.workflows.simple - INFO - TEST: node_error_propagation
2025-12-06 23:31:44 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:44 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:44 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Failing Node (fail)
2025-12-06 23:31:44 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:44 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_fail (start -> fail)
2025-12-06 23:31:44 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_fail_end (fail -> end)
2025-12-06 23:31:44 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Error Test (3 nodes, 2 edges)
2025-12-06 23:31:44 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: Failing Node (fail)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Error Test (id=576532ed-e827-4431-b369-737da1e412d8, execution=1df4cc48-1cc4-438e-a8c1-f9a90b65e28f)
2025-12-06 23:31:44 - tests.workflows.simple - INFO - [OBS] Workflow started: Error Test
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:44 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:44 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: Failing Node (iteration=2)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - ERROR - Node failed: Failing Node - Intentional test failure
2025-12-06 23:31:44 - tests.workflows.simple - ERROR - [OBS] Workflow error: [NODE_EXECUTION_ERROR] Intentional test failure
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - ERROR - Workflow failed: Error Test - [NODE_EXECUTION_ERROR] Intentional test failure
2025-12-06 23:31:44 - tests.workflows.simple - INFO - [OK] Node errors propagate correctly
2025-12-06 23:31:44 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:44 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:44 - tests.workflows.simple - INFO - TEST: workflow_lifecycle_events
2025-12-06 23:31:44 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:44 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:44 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:44 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_end (start -> end)
2025-12-06 23:31:44 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Lifecycle Test (2 nodes, 1 edges)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Lifecycle Test (id=8bf7bf7d-c839-4a24-ad05-a5fd3d3604af, execution=0d72c3f4-77a2-4fc9-83ff-378a2ceadac6)
2025-12-06 23:31:44 - tests.workflows.simple - INFO - [OBS] Workflow started: Lifecycle Test
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:44 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:44 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=2)
2025-12-06 23:31:44 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:44 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:44 - tests.workflows.simple - INFO - [OBS] Workflow completed in 0.00ms
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Lifecycle Test (duration=0.00ms)
2025-12-06 23:31:44 - tests.workflows.simple - INFO - [OK] Lifecycle events: ['start', 'complete']
2025-12-06 23:31:44 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:44 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:44 - tests.workflows.simple - INFO - TEST: node_execution_tracking
2025-12-06 23:31:44 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:44 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:44 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: a (a)
2025-12-06 23:31:44 - core.workflows.nodes.base_node - DEBUG - Initialized transform node: b (b)
2025-12-06 23:31:44 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:44 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_a (start -> a)
2025-12-06 23:31:44 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_a_b (a -> b)
2025-12-06 23:31:44 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_b_end (b -> end)
2025-12-06 23:31:44 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Node Tracking Test (4 nodes, 3 edges)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - INFO - Starting workflow execution: Node Tracking Test (id=99a9d31e-ed39-432d-a4c1-f348c548e064, execution=89cc4b80-0f32-4b18-b4f4-db8752970a3d)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: start (iteration=1)
2025-12-06 23:31:44 - tests.workflows.simple - INFO - [NODE_OBS] Starting: start
2025-12-06 23:31:44 - core.workflows.nodes.start_end_nodes - INFO - Start node: Beginning workflow execution
2025-12-06 23:31:44 - core.workflows.nodes.start_end_nodes - DEBUG - Start node: Input processed
2025-12-06 23:31:44 - tests.workflows.simple - INFO - [NODE_OBS] Completed: start (0.00ms)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: start (duration=0.00ms)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: a (iteration=2)
2025-12-06 23:31:44 - tests.workflows.simple - INFO - [NODE_OBS] Starting: a
2025-12-06 23:31:44 - core.workflows.nodes.transform_node - INFO - Executing transform node: a
2025-12-06 23:31:44 - core.workflows.nodes.transform_node - DEBUG - Transform node a completed successfully
2025-12-06 23:31:44 - tests.workflows.simple - INFO - [NODE_OBS] Completed: a (0.00ms)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: a (duration=0.00ms)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: b (iteration=3)
2025-12-06 23:31:44 - tests.workflows.simple - INFO - [NODE_OBS] Starting: b
2025-12-06 23:31:44 - core.workflows.nodes.transform_node - INFO - Executing transform node: b
2025-12-06 23:31:44 - core.workflows.nodes.transform_node - DEBUG - Transform node b completed successfully
2025-12-06 23:31:44 - tests.workflows.simple - INFO - [NODE_OBS] Completed: b (0.00ms)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: b (duration=0.00ms)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Executing node: end (iteration=4)
2025-12-06 23:31:44 - tests.workflows.simple - INFO - [NODE_OBS] Starting: end
2025-12-06 23:31:44 - core.workflows.nodes.start_end_nodes - INFO - End node: Completing workflow execution
2025-12-06 23:31:44 - core.workflows.nodes.start_end_nodes - DEBUG - End node: Workflow completed
2025-12-06 23:31:44 - tests.workflows.simple - INFO - [NODE_OBS] Completed: end (0.00ms)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Node completed: end (duration=0.00ms)
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - DEBUG - Reached end node: end
2025-12-06 23:31:44 - core.workflows.runtimes.workflow_engine - INFO - Workflow completed: Node Tracking Test (duration=0.00ms)
2025-12-06 23:31:44 - tests.workflows.simple - INFO - [OK] Tracked 4 node executions
2025-12-06 23:31:44 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:44 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:44 - tests.workflows.simple - INFO - TEST: max_iterations
2025-12-06 23:31:44 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:44 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:44 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:44 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_end (start -> end)
2025-12-06 23:31:44 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Max Iterations Test (2 nodes, 1 edges)
2025-12-06 23:31:44 - tests.workflows.simple - INFO - [OK] Max iterations configured
2025-12-06 23:31:44 - asyncio - DEBUG - Using proactor: IocpProactor
2025-12-06 23:31:44 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:44 - tests.workflows.simple - INFO - TEST: routing_strategy
2025-12-06 23:31:44 - tests.workflows.simple - INFO - ============================================================
2025-12-06 23:31:44 - core.workflows.nodes.base_node - DEBUG - Initialized start node: start (start)
2025-12-06 23:31:44 - core.workflows.nodes.base_node - DEBUG - Initialized end node: end (end)
2025-12-06 23:31:44 - core.workflows.edges.base_edge - DEBUG - Initialized edge: edge_start_end (start -> end)
2025-12-06 23:31:44 - core.workflows.implementations.workflow - DEBUG - Initialized workflow: Routing Strategy Test (2 nodes, 1 edges)
2025-12-06 23:31:44 - tests.workflows.simple - INFO - [OK] Routing strategy configured
